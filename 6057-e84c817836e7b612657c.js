"use strict";(self.webpackChunkdatavizhub_tuos=self.webpackChunkdatavizhub_tuos||[]).push([[6057],{36057:function(n,t,e){e.r(t),e.d(t,{Choropleth:function(){return Je},ChoroplethCanvas:function(){return er},ChoroplethCanvasDefaultProps:function(){return He},ChoroplethCanvasPropTypes:function(){return Be},ChoroplethDefaultProps:function(){return Ge},ChoroplethPropTypes:function(){return _e},GeoMap:function(){return Ye},GeoMapCanvas:function(){return $e},GeoMapCanvasDefaultProps:function(){return Ne},GeoMapCanvasPropTypes:function(){return Le},GeoMapDefaultProps:function(){return Pe},GeoMapPropTypes:function(){return qe},ResponsiveChoropleth:function(){return Ke},ResponsiveChoroplethCanvas:function(){return rr},ResponsiveGeoMap:function(){return Ie},ResponsiveGeoMapCanvas:function(){return Qe},projectionById:function(){return ke},useChoropleth:function(){return Re},useGeoMap:function(){return we}});var r=e(67294),i=e(12978),o=e(62529),u=e(45697),l=e.n(u),a=e(16780),c=e(27361),s=e.n(c),f=e(23560),d=e.n(f),p=e(25117),h=1e-6,g=Math.PI,v=g/2,m=g/4,y=2*g,b=180/g,C=g/180,S=Math.abs,M=Math.atan,x=Math.atan2,j=Math.cos,E=Math.ceil,k=Math.exp,w=(Math.floor,Math.log),R=(Math.pow,Math.sin),W=Math.sign||function(n){return n>0?1:n<0?-1:0},T=Math.sqrt,q=Math.tan;function L(n){return n>1?0:n<-1?g:Math.acos(n)}function O(n){return n>1?v:n<-1?-v:Math.asin(n)}function _(n){return function(t,e){var r=j(t),i=j(e),o=n(r*i);return[o*i*R(t),o*R(e)]}}function B(n){return function(t,e){var r=T(t*t+e*e),i=n(r),o=R(i),u=j(i);return[x(t*o,r*u),O(r&&e*o/r)]}}function F(){}function P(){var n,t=[];return{point:function(t,e,r){n.push([t,e,r])},lineStart:function(){t.push(n=[])},lineEnd:F,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function N(n,t){return S(n[0]-t[0])<h&&S(n[1]-t[1])<h}function z(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function G(n,t,e,r,i){var o,u,l=[],a=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],u=n[t];if(N(r,u)){if(!r[2]&&!u[2]){for(i.lineStart(),o=0;o<t;++o)i.point((r=n[o])[0],r[1]);return void i.lineEnd()}u[0]+=2e-6}l.push(e=new z(r,n,null,!0)),a.push(e.o=new z(r,null,e,!1)),l.push(e=new z(u,n,null,!1)),a.push(e.o=new z(u,null,e,!0))}})),l.length){for(a.sort(t),H(l),H(a),o=0,u=a.length;o<u;++o)a[o].e=e=!e;for(var c,s,f=l[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(o=0,u=c.length;o<u;++o)i.point((s=c[o])[0],s[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(c=d.p.z,o=c.length-1;o>=0;--o)i.point((s=c[o])[0],s[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);i.lineEnd()}}}function H(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function A(){return new D}function D(){this.reset()}D.prototype={constructor:D,reset:function(){this.s=this.t=0},add:function(n){Y(X,n,this.t),Y(this,X.s,this.s),this.s?this.t+=X.t:this.s=X.t},valueOf:function(){return this.s}};var X=new D;function Y(n,t,e){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function I(n){return[x(n[1],n[0]),O(n[2])]}function U(n){var t=n[0],e=n[1],r=j(e);return[r*j(t),r*R(t),R(e)]}function V(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function $(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Q(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Z(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function J(n){var t=T(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var K=A();function nn(n){return S(n[0])<=g?n[0]:W(n[0])*((S(n[0])+g)%y-g)}function tn(n,t){var e=nn(t),r=t[1],i=R(r),o=[R(e),-j(e),0],u=0,l=0;K.reset(),1===i?r=v+h:-1===i&&(r=-v-h);for(var a=0,c=n.length;a<c;++a)if(f=(s=n[a]).length)for(var s,f,d=s[f-1],p=nn(d),b=d[1]/2+m,C=R(b),S=j(b),M=0;M<f;++M,p=k,C=W,S=T,d=E){var E=s[M],k=nn(E),w=E[1]/2+m,W=R(w),T=j(w),q=k-p,L=q>=0?1:-1,_=L*q,B=_>g,F=C*W;if(K.add(x(F*L*R(_),S*T+F*j(_))),u+=B?q+L*y:q,B^p>=e^k>=e){var P=$(U(d),U(E));J(P);var N=$(o,P);J(N);var z=(B^q>=0?-1:1)*O(N[2]);(r>z||r===z&&(P[0]||P[1]))&&(l+=B^q>=0?1:-1)}}return(u<-h||u<h&&K<-h)^1&l}var en=e(956);function rn(n,t,e,r){return function(i){var o,u,l,a=t(i),c=P(),s=t(c),f=!1,d={point:p,lineStart:g,lineEnd:v,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=b,u=[],o=[]},polygonEnd:function(){d.point=p,d.lineStart=g,d.lineEnd=v,u=(0,en.TS)(u);var n=tn(o,r);u.length?(f||(i.polygonStart(),f=!0),G(u,un,n,e,i)):n&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),u=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(t,e){n(t,e)&&i.point(t,e)}function h(n,t){a.point(n,t)}function g(){d.point=h,a.lineStart()}function v(){d.point=p,a.lineEnd()}function m(n,t){l.push([n,t]),s.point(n,t)}function y(){s.lineStart(),l=[]}function b(){m(l[0][0],l[0][1]),s.lineEnd();var n,t,e,r,a=s.clean(),d=c.result(),p=d.length;if(l.pop(),o.push(l),l=null,p)if(1&a){if((t=(e=d[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),n=0;n<t;++n)i.point((r=e[n])[0],r[1]);i.lineEnd()}}else p>1&&2&a&&d.push(d.pop().concat(d.shift())),u.push(d.filter(on))}return d}}function on(n){return n.length>1}function un(n,t){return((n=n.x)[0]<0?n[1]-v-h:v-n[1])-((t=t.x)[0]<0?t[1]-v-h:v-t[1])}var ln=rn((function(){return!0}),(function(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(o,u){var l=o>0?g:-g,a=S(o-e);S(a-g)<h?(n.point(e,r=(r+u)/2>0?v:-v),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(l,r),n.point(o,r),t=0):i!==l&&a>=g&&(S(e-i)<h&&(e-=i*h),S(o-l)<h&&(o-=l*h),r=function(n,t,e,r){var i,o,u=R(n-e);return S(u)>h?M((R(t)*(o=j(r))*R(e)-R(r)*(i=j(t))*R(n))/(i*o*u)):(t+r)/2}(e,r,o,u),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(l,r),t=0),n.point(e=o,r=u),i=l},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}),(function(n,t,e,r){var i;if(null==n)i=e*v,r.point(-g,i),r.point(0,i),r.point(g,i),r.point(g,0),r.point(g,-i),r.point(0,-i),r.point(-g,-i),r.point(-g,0),r.point(-g,i);else if(S(n[0]-t[0])>h){var o=n[0]<t[0]?g:-g;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-g,-v]);function an(n,t,e,r,i,o){if(e){var u=j(t),l=R(t),a=r*e;null==i?(i=t+r*y,o=t-a/2):(i=cn(u,i),o=cn(u,o),(r>0?i<o:i>o)&&(i+=r*y));for(var c,s=i;r>0?s>o:s<o;s-=a)c=I([u,-l*j(s),-l*R(s)]),n.point(c[0],c[1])}}function cn(n,t){(t=U(t))[0]-=n,J(t);var e=L(-t[1]);return((-t[2]<0?-e:e)+y-h)%y}function sn(n){var t=j(n),e=6*C,r=t>0,i=S(t)>h;function o(n,e){return j(n)*j(e)>t}function u(n,e,r){var i=[1,0,0],o=$(U(n),U(e)),u=V(o,o),l=o[0],a=u-l*l;if(!a)return!r&&n;var c=t*u/a,s=-t*l/a,f=$(i,o),d=Z(i,c);Q(d,Z(o,s));var p=f,v=V(d,p),m=V(p,p),y=v*v-m*(V(d,d)-1);if(!(y<0)){var b=T(y),C=Z(p,(-v-b)/m);if(Q(C,d),C=I(C),!r)return C;var M,x=n[0],j=e[0],E=n[1],k=e[1];j<x&&(M=x,x=j,j=M);var w=j-x,R=S(w-g)<h;if(!R&&k<E&&(M=E,E=k,k=M),R||w<h?R?E+k>0^C[1]<(S(C[0]-x)<h?E:k):E<=C[1]&&C[1]<=k:w>g^(x<=C[0]&&C[0]<=j)){var W=Z(p,(-v+b)/m);return Q(W,d),[C,I(W)]}}}function l(t,e){var i=r?n:g-n,o=0;return t<-i?o|=1:t>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return rn(o,(function(n){var t,e,a,c,s;return{lineStart:function(){c=a=!1,s=1},point:function(f,d){var p,h=[f,d],v=o(f,d),m=r?v?0:l(f,d):v?l(f+(f<0?g:-g),d):0;if(!t&&(c=a=v)&&n.lineStart(),v!==a&&(!(p=u(t,h))||N(t,p)||N(h,p))&&(h[2]=1),v!==a)s=0,v?(n.lineStart(),p=u(h,t),n.point(p[0],p[1])):(p=u(t,h),n.point(p[0],p[1],2),n.lineEnd()),t=p;else if(i&&t&&r^v){var y;m&e||!(y=u(h,t,!0))||(s=0,r?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1],3)))}!v||t&&N(t,h)||n.point(h[0],h[1]),t=h,a=v,e=m},lineEnd:function(){a&&n.lineEnd(),t=null},clean:function(){return s|(c&&a)<<1}}}),(function(t,r,i,o){an(o,n,e,i,t,r)}),r?[0,-n]:[-g,n-g])}var fn=1e9,dn=-fn;function pn(n,t,e,r){function i(i,o){return n<=i&&i<=e&&t<=o&&o<=r}function o(i,o,l,c){var s=0,f=0;if(null==i||(s=u(i,l))!==(f=u(o,l))||a(i,o)<0^l>0)do{c.point(0===s||3===s?n:e,s>1?r:t)}while((s=(s+l+4)%4)!==f);else c.point(o[0],o[1])}function u(r,i){return S(r[0]-n)<h?i>0?0:3:S(r[0]-e)<h?i>0?2:1:S(r[1]-t)<h?i>0?1:0:i>0?3:2}function l(n,t){return a(n.x,t.x)}function a(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(u){var a,c,s,f,d,p,h,g,v,m,y,b=u,C=P(),S={point:M,lineStart:function(){S.point=x,c&&c.push(s=[]);m=!0,v=!1,h=g=NaN},lineEnd:function(){a&&(x(f,d),p&&v&&C.rejoin(),a.push(C.result()));S.point=M,v&&b.lineEnd()},polygonStart:function(){b=C,a=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,i=c.length;e<i;++e)for(var o,u,l=c[e],a=1,s=l.length,f=l[0],d=f[0],p=f[1];a<s;++a)o=d,u=p,d=(f=l[a])[0],p=f[1],u<=r?p>r&&(d-o)*(r-u)>(p-u)*(n-o)&&++t:p<=r&&(d-o)*(r-u)<(p-u)*(n-o)&&--t;return t}(),e=y&&t,i=(a=(0,en.TS)(a)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&G(a,l,t,o,u),u.polygonEnd());b=u,a=c=s=null}};function M(n,t){i(n,t)&&b.point(n,t)}function x(o,u){var l=i(o,u);if(c&&s.push([o,u]),m)f=o,d=u,p=l,m=!1,l&&(b.lineStart(),b.point(o,u));else if(l&&v)b.point(o,u);else{var a=[h=Math.max(dn,Math.min(fn,h)),g=Math.max(dn,Math.min(fn,g))],C=[o=Math.max(dn,Math.min(fn,o)),u=Math.max(dn,Math.min(fn,u))];!function(n,t,e,r,i,o){var u,l=n[0],a=n[1],c=0,s=1,f=t[0]-l,d=t[1]-a;if(u=e-l,f||!(u>0)){if(u/=f,f<0){if(u<c)return;u<s&&(s=u)}else if(f>0){if(u>s)return;u>c&&(c=u)}if(u=i-l,f||!(u<0)){if(u/=f,f<0){if(u>s)return;u>c&&(c=u)}else if(f>0){if(u<c)return;u<s&&(s=u)}if(u=r-a,d||!(u>0)){if(u/=d,d<0){if(u<c)return;u<s&&(s=u)}else if(d>0){if(u>s)return;u>c&&(c=u)}if(u=o-a,d||!(u<0)){if(u/=d,d<0){if(u>s)return;u>c&&(c=u)}else if(d>0){if(u<c)return;u<s&&(s=u)}return c>0&&(n[0]=l+c*f,n[1]=a+c*d),s<1&&(t[0]=l+s*f,t[1]=a+s*d),!0}}}}}(a,C,n,t,e,r)?l&&(b.lineStart(),b.point(o,u),y=!1):(v||(b.lineStart(),b.point(a[0],a[1])),b.point(C[0],C[1]),l||b.lineEnd(),y=!1)}h=o,g=u,v=l}return S}}function hn(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return(e=t.invert(e,r))&&n.invert(e[0],e[1])}),e}function gn(n){return n}function vn(n,t){return[S(n)>g?n+Math.round(-n/y)*y:n,t]}function mn(n,t,e){return(n%=y)?t||e?hn(bn(n),Cn(t,e)):bn(n):t||e?Cn(t,e):vn}function yn(n){return function(t,e){return[(t+=n)>g?t-y:t<-g?t+y:t,e]}}function bn(n){var t=yn(n);return t.invert=yn(-n),t}function Cn(n,t){var e=j(n),r=R(n),i=j(t),o=R(t);function u(n,t){var u=j(t),l=j(n)*u,a=R(n)*u,c=R(t),s=c*e+l*r;return[x(a*i-s*o,l*e-c*r),O(s*i+a*o)]}return u.invert=function(n,t){var u=j(t),l=j(n)*u,a=R(n)*u,c=R(t),s=c*i-a*o;return[x(a*i+c*o,l*e+s*r),O(s*e-l*r)]},u}function Sn(n){return function(t){var e=new Mn;for(var r in n)e[r]=n[r];return e.stream=t,e}}function Mn(){}function xn(n,t){n&&En.hasOwnProperty(n.type)&&En[n.type](n,t)}vn.invert=vn,Mn.prototype={constructor:Mn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var jn={Feature:function(n,t){xn(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)xn(e[r].geometry,t)}},En={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){kn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)kn(e[r],t,0)},Polygon:function(n,t){wn(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)wn(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)xn(e[r],t)}};function kn(n,t,e){var r,i=-1,o=n.length-e;for(t.lineStart();++i<o;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function wn(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)kn(n[e],t,1);t.polygonEnd()}function Rn(n,t){n&&jn.hasOwnProperty(n.type)?jn[n.type](n,t):xn(n,t)}var Wn=1/0,Tn=Wn,qn=-Wn,Ln=qn,On={point:function(n,t){n<Wn&&(Wn=n);n>qn&&(qn=n);t<Tn&&(Tn=t);t>Ln&&(Ln=t)},lineStart:F,lineEnd:F,polygonStart:F,polygonEnd:F,result:function(){var n=[[Wn,Tn],[qn,Ln]];return qn=Ln=-(Tn=Wn=1/0),n}};var _n=On;function Bn(n,t,e){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=r&&n.clipExtent(null),Rn(e,n.stream(_n)),t(_n.result()),null!=r&&n.clipExtent(r),n}function Fn(n,t,e){return Bn(n,(function(e){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+t[0][0]+(r-o*(e[1][0]+e[0][0]))/2,l=+t[0][1]+(i-o*(e[1][1]+e[0][1]))/2;n.scale(150*o).translate([u,l])}),e)}var Pn=j(30*C);function Nn(n,t){return+t?function(n,t){function e(r,i,o,u,l,a,c,s,f,d,p,g,v,m){var y=c-r,b=s-i,C=y*y+b*b;if(C>4*t&&v--){var M=u+d,j=l+p,E=a+g,k=T(M*M+j*j+E*E),w=O(E/=k),R=S(S(E)-1)<h||S(o-f)<h?(o+f)/2:x(j,M),W=n(R,w),q=W[0],L=W[1],_=q-r,B=L-i,F=b*_-y*B;(F*F/C>t||S((y*_+b*B)/C-.5)>.3||u*d+l*p+a*g<Pn)&&(e(r,i,o,u,l,a,q,L,R,M/=k,j/=k,E,v,m),m.point(q,L),e(q,L,R,M,j,E,c,s,f,d,p,g,v,m))}}return function(t){var r,i,o,u,l,a,c,s,f,d,p,h,g={point:v,lineStart:m,lineEnd:b,polygonStart:function(){t.polygonStart(),g.lineStart=C},polygonEnd:function(){t.polygonEnd(),g.lineStart=m}};function v(e,r){e=n(e,r),t.point(e[0],e[1])}function m(){s=NaN,g.point=y,t.lineStart()}function y(r,i){var o=U([r,i]),u=n(r,i);e(s,f,c,d,p,h,s=u[0],f=u[1],c=r,d=o[0],p=o[1],h=o[2],16,t),t.point(s,f)}function b(){g.point=v,t.lineEnd()}function C(){m(),g.point=S,g.lineEnd=M}function S(n,t){y(r=n,t),i=s,o=f,u=d,l=p,a=h,g.point=y}function M(){e(s,f,c,d,p,h,i,o,r,u,l,a,16,t),g.lineEnd=b,b()}return g}}(n,t):function(n){return Sn({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}(n)}var zn=Sn({point:function(n,t){this.stream.point(n*C,t*C)}});function Gn(n,t,e,r,i){function o(o,u){return[t+n*(o*=r),e-n*(u*=i)]}return o.invert=function(o,u){return[(o-t)/n*r,(e-u)/n*i]},o}function Hn(n,t,e,r,i,o){var u=j(o),l=R(o),a=u*n,c=l*n,s=u/n,f=l/n,d=(l*e-u*t)/n,p=(l*t+u*e)/n;function h(n,o){return[a*(n*=r)-c*(o*=i)+t,e-c*n-a*o]}return h.invert=function(n,t){return[r*(s*n-f*t+d),i*(p-f*n-s*t)]},h}function An(n){return function(n){var t,e,r,i,o,u,l,a,c,s,f=150,d=480,p=250,h=0,g=0,v=0,m=0,y=0,S=0,M=1,x=1,j=null,E=ln,k=null,w=gn,R=.5;function W(n){return a(n[0]*C,n[1]*C)}function q(n){return(n=a.invert(n[0],n[1]))&&[n[0]*b,n[1]*b]}function L(){var n=Hn(f,0,0,M,x,S).apply(null,t(h,g)),r=(S?Hn:Gn)(f,d-n[0],p-n[1],M,x,S);return e=mn(v,m,y),l=hn(t,r),a=hn(e,l),u=Nn(l,R),O()}function O(){return c=s=null,W}return W.stream=function(n){return c&&s===n?c:c=zn(function(n){return Sn({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}})}(e)(E(u(w(s=n)))))},W.preclip=function(n){return arguments.length?(E=n,j=void 0,O()):E},W.postclip=function(n){return arguments.length?(w=n,k=r=i=o=null,O()):w},W.clipAngle=function(n){return arguments.length?(E=+n?sn(j=n*C):(j=null,ln),O()):j*b},W.clipExtent=function(n){return arguments.length?(w=null==n?(k=r=i=o=null,gn):pn(k=+n[0][0],r=+n[0][1],i=+n[1][0],o=+n[1][1]),O()):null==k?null:[[k,r],[i,o]]},W.scale=function(n){return arguments.length?(f=+n,L()):f},W.translate=function(n){return arguments.length?(d=+n[0],p=+n[1],L()):[d,p]},W.center=function(n){return arguments.length?(h=n[0]%360*C,g=n[1]%360*C,L()):[h*b,g*b]},W.rotate=function(n){return arguments.length?(v=n[0]%360*C,m=n[1]%360*C,y=n.length>2?n[2]%360*C:0,L()):[v*b,m*b,y*b]},W.angle=function(n){return arguments.length?(S=n%360*C,L()):S*b},W.reflectX=function(n){return arguments.length?(M=n?-1:1,L()):M<0},W.reflectY=function(n){return arguments.length?(x=n?-1:1,L()):x<0},W.precision=function(n){return arguments.length?(u=Nn(l,R=n*n),O()):T(R)},W.fitExtent=function(n,t){return Fn(W,n,t)},W.fitSize=function(n,t){return function(n,t,e){return Fn(n,[[0,0],t],e)}(W,n,t)},W.fitWidth=function(n,t){return function(n,t,e){return Bn(n,(function(e){var r=+t,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];n.scale(150*i).translate([o,u])}),e)}(W,n,t)},W.fitHeight=function(n,t){return function(n,t,e){return Bn(n,(function(e){var r=+t,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;n.scale(150*i).translate([o,u])}),e)}(W,n,t)},function(){return t=n.apply(this,arguments),W.invert=t.invert&&q,L()}}((function(){return n}))()}var Dn=_((function(n){return T(2/(1+n))}));Dn.invert=B((function(n){return 2*O(n/2)}));var Xn=_((function(n){return(n=L(n))&&n/R(n)}));function Yn(n,t){var e=j(t),r=j(n)*e;return[e*R(n)/r,R(t)/r]}function In(n,t){return[j(t)*R(n),R(t)]}function Un(n,t){var e=j(t),r=1+j(n)*e;return[e*R(n)/r,R(t)/r]}Xn.invert=B((function(n){return n})),Yn.invert=B(M),In.invert=B(O),Un.invert=B((function(n){return 2*M(n)}));var Vn=1.340264,$n=-.081106,Qn=893e-6,Zn=.003796,Jn=T(3)/2;function Kn(n,t){var e=O(Jn*R(t)),r=e*e,i=r*r*r;return[n*j(e)/(Jn*(Vn+3*$n*r+i*(7*Qn+9*Zn*r))),e*(Vn+$n*r+i*(Qn+Zn*r))]}function nt(n,t){return[n,t]}function tt(n,t){return[n,w(q((v+t)/2))]}function et(n){var t,e,r,i=An(n),o=i.center,u=i.scale,l=i.translate,a=i.clipExtent,c=null;function s(){var o=g*u(),l=i(function(n){function t(t){return(t=n(t[0]*C,t[1]*C))[0]*=b,t[1]*=b,t}return n=mn(n[0]*C,n[1]*C,n.length>2?n[2]*C:0),t.invert=function(t){return(t=n.invert(t[0]*C,t[1]*C))[0]*=b,t[1]*=b,t},t}(i.rotate()).invert([0,0]));return a(null==c?[[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]]:n===tt?[[Math.max(l[0]-o,c),t],[Math.min(l[0]+o,e),r]]:[[c,Math.max(l[1]-o,t)],[e,Math.min(l[1]+o,r)]])}return i.scale=function(n){return arguments.length?(u(n),s()):u()},i.translate=function(n){return arguments.length?(l(n),s()):l()},i.center=function(n){return arguments.length?(o(n),s()):o()},i.clipExtent=function(n){return arguments.length?(null==n?c=t=e=r=null:(c=+n[0][0],t=+n[0][1],e=+n[1][0],r=+n[1][1]),s()):null==c?null:[[c,t],[e,r]]},s()}function rt(n,t){return[w(q((v+t)/2)),-n]}function it(n,t){var e=t*t,r=e*e;return[n*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),t*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}Kn.invert=function(n,t){for(var e,r=t,i=r*r,o=i*i*i,u=0;u<12&&(o=(i=(r-=e=(r*(Vn+$n*i+o*(Qn+Zn*i))-t)/(Vn+3*$n*i+o*(7*Qn+9*Zn*i)))*r)*i*i,!(S(e)<1e-12));++u);return[Jn*n*(Vn+3*$n*i+o*(7*Qn+9*Zn*i))/j(r),O(R(r)/Jn)]},nt.invert=nt,tt.invert=function(n,t){return[n,2*M(k(t))-v]},rt.invert=function(n,t){return[-t,2*M(k(n))-v]},it.invert=function(n,t){var e,r=t,i=25;do{var o=r*r,u=o*o;r-=e=(r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-t)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(S(e)>h&&--i>0);return[n/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var ot,ut,lt,at,ct=A(),st=A(),ft={point:F,lineStart:F,lineEnd:F,polygonStart:function(){ft.lineStart=dt,ft.lineEnd=gt},polygonEnd:function(){ft.lineStart=ft.lineEnd=ft.point=F,ct.add(S(st)),st.reset()},result:function(){var n=ct/2;return ct.reset(),n}};function dt(){ft.point=pt}function pt(n,t){ft.point=ht,ot=lt=n,ut=at=t}function ht(n,t){st.add(at*n-lt*t),lt=n,at=t}function gt(){ht(ot,ut)}var vt,mt,yt,bt,Ct=ft,St=0,Mt=0,xt=0,jt=0,Et=0,kt=0,wt=0,Rt=0,Wt=0,Tt={point:qt,lineStart:Lt,lineEnd:Bt,polygonStart:function(){Tt.lineStart=Ft,Tt.lineEnd=Pt},polygonEnd:function(){Tt.point=qt,Tt.lineStart=Lt,Tt.lineEnd=Bt},result:function(){var n=Wt?[wt/Wt,Rt/Wt]:kt?[jt/kt,Et/kt]:xt?[St/xt,Mt/xt]:[NaN,NaN];return St=Mt=xt=jt=Et=kt=wt=Rt=Wt=0,n}};function qt(n,t){St+=n,Mt+=t,++xt}function Lt(){Tt.point=Ot}function Ot(n,t){Tt.point=_t,qt(yt=n,bt=t)}function _t(n,t){var e=n-yt,r=t-bt,i=T(e*e+r*r);jt+=i*(yt+n)/2,Et+=i*(bt+t)/2,kt+=i,qt(yt=n,bt=t)}function Bt(){Tt.point=qt}function Ft(){Tt.point=Nt}function Pt(){zt(vt,mt)}function Nt(n,t){Tt.point=zt,qt(vt=yt=n,mt=bt=t)}function zt(n,t){var e=n-yt,r=t-bt,i=T(e*e+r*r);jt+=i*(yt+n)/2,Et+=i*(bt+t)/2,kt+=i,wt+=(i=bt*n-yt*t)*(yt+n),Rt+=i*(bt+t),Wt+=3*i,qt(yt=n,bt=t)}var Gt=Tt;function Ht(n){this._context=n}Ht.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,y)}},result:F};var At,Dt,Xt,Yt,It,Ut=A(),Vt={point:F,lineStart:function(){Vt.point=$t},lineEnd:function(){At&&Qt(Dt,Xt),Vt.point=F},polygonStart:function(){At=!0},polygonEnd:function(){At=null},result:function(){var n=+Ut;return Ut.reset(),n}};function $t(n,t){Vt.point=Qt,Dt=Yt=n,Xt=It=t}function Qt(n,t){Yt-=n,It-=t,Ut.add(T(Yt*Yt+It*It)),Yt=n,It=t}var Zt=Vt;function Jt(){this._string=[]}function Kt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function ne(n,t,e){var r=(0,en.w6)(n,t-h,e).concat(t);return function(n){return r.map((function(t){return[n,t]}))}}function te(n,t,e){var r=(0,en.w6)(n,t-h,e).concat(t);return function(n){return r.map((function(t){return[t,n]}))}}function ee(){var n,t,e,r,i,o,u,l,a,c,s,f,d=10,p=d,g=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return(0,en.w6)(E(r/g)*g,e,g).map(s).concat((0,en.w6)(E(l/v)*v,u,v).map(f)).concat((0,en.w6)(E(t/d)*d,n,d).filter((function(n){return S(n%g)>h})).map(a)).concat((0,en.w6)(E(o/p)*p,i,p).filter((function(n){return S(n%v)>h})).map(c))}return y.lines=function(){return b().map((function(n){return{type:"LineString",coordinates:n}}))},y.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(f(u).slice(1),s(e).reverse().slice(1),f(l).reverse().slice(1))]}},y.extent=function(n){return arguments.length?y.extentMajor(n).extentMinor(n):y.extentMinor()},y.extentMajor=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],l=+n[0][1],u=+n[1][1],r>e&&(n=r,r=e,e=n),l>u&&(n=l,l=u,u=n),y.precision(m)):[[r,l],[e,u]]},y.extentMinor=function(e){return arguments.length?(t=+e[0][0],n=+e[1][0],o=+e[0][1],i=+e[1][1],t>n&&(e=t,t=n,n=e),o>i&&(e=o,o=i,i=e),y.precision(m)):[[t,o],[n,i]]},y.step=function(n){return arguments.length?y.stepMajor(n).stepMinor(n):y.stepMinor()},y.stepMajor=function(n){return arguments.length?(g=+n[0],v=+n[1],y):[g,v]},y.stepMinor=function(n){return arguments.length?(d=+n[0],p=+n[1],y):[d,p]},y.precision=function(d){return arguments.length?(m=+d,a=ne(o,i,90),c=te(t,n,m),s=ne(l,u,90),f=te(r,e,m),y):m},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}Jt.prototype={_radius:4.5,_circle:Kt(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:null==this._circle&&(this._circle=Kt(this._radius)),this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}return null}};var re,ie,oe,ue=A(),le={sphere:F,point:F,lineStart:function(){le.point=ce,le.lineEnd=ae},lineEnd:F,polygonStart:F,polygonEnd:F};function ae(){le.point=le.lineEnd=F}function ce(n,t){re=n*=C,ie=R(t*=C),oe=j(t),le.point=se}function se(n,t){n*=C;var e=R(t*=C),r=j(t),i=S(n-re),o=j(i),u=r*R(i),l=oe*e-ie*r*o,a=ie*e+oe*r*o;ue.add(x(T(u*u+l*l),a)),re=n,ie=e,oe=r}var fe=[null,null],de={type:"LineString",coordinates:fe};function pe(n,t){return fe[0]=n,fe[1]=t,function(n){return ue.reset(),Rn(n,le),+ue}(de)}var he={Feature:function(n,t){return ve(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)if(ve(e[r].geometry,t))return!0;return!1}},ge={Sphere:function(){return!0},Point:function(n,t){return me(n.coordinates,t)},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)if(me(e[r],t))return!0;return!1},LineString:function(n,t){return ye(n.coordinates,t)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)if(ye(e[r],t))return!0;return!1},Polygon:function(n,t){return be(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)if(be(e[r],t))return!0;return!1},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)if(ve(e[r],t))return!0;return!1}};function ve(n,t){return!(!n||!ge.hasOwnProperty(n.type))&&ge[n.type](n,t)}function me(n,t){return 0===pe(n,t)}function ye(n,t){for(var e,r,i,o=0,u=n.length;o<u;o++){if(0===(r=pe(n[o],t)))return!0;if(o>0&&(i=pe(n[o],n[o-1]))>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<1e-12*i)return!0;e=r}return!1}function be(n,t){return!!tn(n.map(Ce),Se(t))}function Ce(n){return(n=n.map(Se)).pop(),n}function Se(n){return[n[0]*C,n[1]*C]}function Me(n,t){return(n&&he.hasOwnProperty(n.type)?he[n.type]:ve)(n,t)}var xe=e(26729),je=e(85893);function Ee(){return Ee=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Ee.apply(this,arguments)}var ke={azimuthalEqualArea:function(){return An(Dn).scale(124.75).clipAngle(179.999)},azimuthalEquidistant:function(){return An(Xn).scale(79.4188).clipAngle(179.999)},gnomonic:function(){return An(Yn).scale(144.049).clipAngle(60)},orthographic:function(){return An(In).scale(249.5).clipAngle(90.000001)},stereographic:function(){return An(Un).scale(250).clipAngle(142)},equalEarth:function(){return An(Kn).scale(177.158)},equirectangular:function(){return An(nt).scale(152.63)},mercator:function(){return et(tt).scale(961/y)},transverseMercator:function(){var n=et(rt),t=n.center,e=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return arguments.length?e([n[0],n[1],n.length>2?n[2]+90:90]):[(n=e())[0],n[1],n[2]-90]},e([0,0,90]).scale(159.155)},naturalEarth1:function(){return An(it).scale(175.295)}},we=function(n){var t=n.width,e=n.height,o=n.projectionType,u=n.projectionScale,l=n.projectionTranslation,c=n.projectionRotation,s=n.fillColor,f=n.borderWidth,d=n.borderColor,p=(0,r.useMemo)((function(){return ke[o]().scale(u).translate([t*l[0],e*l[1]]).rotate(c)}),[t,e,o,u,l[0],l[1],c[0],c[1],c[2]]),h=(0,r.useMemo)((function(){return function(n,t){var e,r,i=4.5;function o(n){return n&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Rn(n,e(r))),r.result()}return o.area=function(n){return Rn(n,e(Ct)),Ct.result()},o.measure=function(n){return Rn(n,e(Zt)),Zt.result()},o.bounds=function(n){return Rn(n,e(_n)),_n.result()},o.centroid=function(n){return Rn(n,e(Gt)),Gt.result()},o.projection=function(t){return arguments.length?(e=null==t?(n=null,gn):(n=t).stream,o):n},o.context=function(n){return arguments.length?(r=null==n?(t=null,new Jt):new Ht(t=n),"function"!=typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(n){return arguments.length?(i="function"==typeof n?n:(r.pointRadius(+n),+n),o):i},o.projection(n).context(t)}(p)}),[p]),g=(0,r.useMemo)((function(){return ee()})),v=(0,i.Fg)(),m=(0,r.useMemo)((function(){return"function"==typeof f?f:function(){return f}}),[f]),y=(0,a.Bf)(d,v),b=(0,r.useMemo)((function(){return"function"==typeof s?s:function(){return s}}),[s]);return{projection:p,path:h,graticule:g,getBorderWidth:m,getBorderColor:y,getFillColor:b}},Re=function(n){var t=n.features,e=n.data,o=n.match,u=n.label,l=n.value,a=n.valueFormat,c=n.colors,f=n.unknownColor,h=n.domain,g=(0,r.useMemo)((function(){return d()(o)?o:function(n,t){var e=s()(n,o),r=s()(t,o);return e&&e===r}}),[o]),v=(0,r.useMemo)((function(){return d()(u)?u:function(n){return s()(n,u)}}),[u]),m=(0,r.useMemo)((function(){return d()(l)?l:function(n){return s()(n,l)}}),[l]),y=(0,r.useMemo)((function(){return void 0===a?function(n){return n}:d()(a)?a:(0,p.WU)(a)}),[a]),b=(0,r.useMemo)((function(){return(0,i.om)(c).domain(h)}),[c,h]),C=(0,r.useMemo)((function(){return function(n){return void 0===n.value?f:b(n.value)}}),[b,f]),S=(0,r.useMemo)((function(){return t.map((function(n){var t=e.find((function(t){return g(n,t)})),r=m(t);if(t){var i=Ee({},n,{data:t,value:r,formattedValue:y(r)});return i.color=C(i),i.label=v(i),i}return n}))}),[t,e,g,m,y,C]),M=(0,xe._i)({scale:b,valueFormat:y});return{colorScale:b,getFillColor:C,boundFeatures:S,valueFormatter:y,legendData:M}},We=(0,r.memo)((function(n){var t=n.feature;return void 0===t.data?null:(0,je.jsx)(o._5,{id:t.label,color:t.color,enableChip:!0,value:t.formattedValue})}));We.propTypes={feature:l().object.isRequired},We.displayName="ChoroplethTooltip";var Te={features:l().arrayOf(l().shape({id:l().string.isRequired,type:l().oneOf(["Feature"]).isRequired,properties:l().object,geometry:l().object.isRequired})).isRequired,projectionType:l().oneOf(Object.keys(ke)).isRequired,projectionScale:l().number.isRequired,projectionTranslation:l().arrayOf(l().number).isRequired,projectionRotation:l().arrayOf(l().number).isRequired,fillColor:l().oneOfType([l().string,l().func]).isRequired,borderWidth:l().oneOfType([l().number,l().func]).isRequired,borderColor:a.UO.isRequired,enableGraticule:l().bool.isRequired,graticuleLineWidth:l().number.isRequired,graticuleLineColor:l().string.isRequired,isInteractive:l().bool.isRequired,onMouseEnter:l().func.isRequired,onMouseMove:l().func.isRequired,onMouseLeave:l().func.isRequired,onClick:l().func.isRequired,tooltip:l().any,layers:l().arrayOf(l().oneOfType([l().oneOf(["graticule","features"]),l().func])).isRequired},qe=Ee({},Te,{role:l().string.isRequired}),Le=Ee({pixelRatio:l().number.isRequired},Te),Oe={data:l().arrayOf(l().object).isRequired,match:l().oneOfType([l().string,l().func]).isRequired,label:l().oneOfType([l().string,l().func]).isRequired,value:l().oneOfType([l().string,l().func]).isRequired,valueFormat:l().oneOfType([l().string,l().func]),colors:i.Dd.isRequired,domain:l().arrayOf(l().number).isRequired,unknownColor:l().string.isRequired,layers:l().arrayOf(l().oneOfType([l().oneOf(["graticule","features","legends"]),l().func])).isRequired},_e=Ee({},qe,Oe,{role:l().string.isRequired}),Be=Ee({},Le,Oe),Fe={projectionType:"mercator",projectionScale:100,projectionTranslation:[.5,.5],projectionRotation:[0,0,0],enableGraticule:!1,graticuleLineWidth:.5,graticuleLineColor:"#999999",fillColor:"#dddddd",borderWidth:0,borderColor:"#000000",isInteractive:!0,onMouseEnter:function(){},onMouseLeave:function(){},onMouseMove:function(){},onClick:function(){},layers:["graticule","features"],legends:[]},Pe=Ee({},Fe,{role:"img"}),Ne=Ee({},Fe,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),ze={match:"id",label:"id",value:"value",colors:"PuBuGn",unknownColor:"#999",tooltip:We,layers:["graticule","features","legends"]},Ge=Ee({},Pe,ze,{role:"img"}),He=Ee({},Ne,ze),Ae=(0,r.memo)((function(n){var t=n.path,e=n.graticule,r=n.lineWidth,i=n.lineColor;return(0,je.jsx)("path",{fill:"none",strokeWidth:r,stroke:i,d:t(e())})}));Ae.propTypes={path:l().func.isRequired,graticule:l().func.isRequired,lineWidth:l().number.isRequired,lineColor:l().string.isRequired},Ae.displayName="GeoGraticule";var De=(0,r.memo)((function(n){var t=n.feature,e=n.path,r=n.fillColor,i=n.borderWidth,o=n.borderColor,u=n.onClick,l=n.onMouseEnter,a=n.onMouseMove,c=n.onMouseLeave;return(0,je.jsx)("path",{fill:r,strokeWidth:i,stroke:o,strokeLinejoin:"bevel",d:e(t),onMouseEnter:function(n){return l(t,n)},onMouseMove:function(n){return a(t,n)},onMouseLeave:function(n){return c(t,n)},onClick:function(n){return u(t,n)}},t.id)}));De.propTypes={feature:l().shape({id:l().string.isRequired,type:l().oneOf(["Feature"]).isRequired,properties:l().object,geometry:l().object.isRequired}).isRequired,path:l().func.isRequired,fillColor:l().string.isRequired,borderWidth:l().number.isRequired,borderColor:l().string.isRequired,onMouseEnter:l().func.isRequired,onMouseMove:l().func.isRequired,onMouseLeave:l().func.isRequired,onClick:l().func.isRequired},De.displayName="GeoMapFeature";var Xe=(0,r.memo)((function(n){var t=n.width,e=n.height,u=n.margin,l=n.features,a=n.layers,c=n.projectionType,s=n.projectionScale,f=n.projectionTranslation,d=n.projectionRotation,p=n.fillColor,h=n.borderWidth,g=n.borderColor,v=n.enableGraticule,m=n.graticuleLineWidth,y=n.graticuleLineColor,b=n.isInteractive,C=n.onClick,S=n.tooltip,M=n.role,x=(0,i.Bs)(t,e,u),j=x.margin,E=x.outerWidth,k=x.outerHeight,w=we({width:t,height:e,projectionType:c,projectionScale:s,projectionTranslation:f,projectionRotation:d,fillColor:p,borderWidth:h,borderColor:g}),R=w.graticule,W=w.path,T=w.getFillColor,q=w.getBorderWidth,L=w.getBorderColor,O=(0,i.Fg)(),_=(0,o.lL)(),B=_.showTooltipFromEvent,F=_.hideTooltip,P=(0,r.useCallback)((function(n,t){return b&&C&&C(n,t)}),[b,C]),N=(0,r.useCallback)((function(n,t){return b&&S&&B((0,je.jsx)(S,{feature:n}),t)}),[b,B,S]),z=(0,r.useCallback)((function(n,t){return b&&S&&B((0,je.jsx)(S,{feature:n}),t)}),[b,B,S]),G=(0,r.useCallback)((function(){return b&&F()}),[b,F]);return(0,je.jsx)(i.tM,{width:E,height:k,margin:j,theme:O,role:M,children:a.map((function(t,e){return"graticule"===t?!0!==v?null:(0,je.jsx)(Ae,{path:W,graticule:R,lineWidth:m,lineColor:y},"graticule"):"features"===t?(0,je.jsx)(r.Fragment,{children:l.map((function(n){return(0,je.jsx)(De,{feature:n,path:W,fillColor:T(n),borderWidth:q(n),borderColor:L(n),onMouseEnter:N,onMouseMove:z,onMouseLeave:G,onClick:P},n.id)}))},"features"):(0,je.jsx)(r.Fragment,{children:t(n)},e)}))})}));Xe.displayName="GeoMap",Xe.propTypes=qe,Xe.defaultProps=Pe;var Ye=(0,i.li)(Xe),Ie=function(n){return(0,je.jsx)(i.d,{children:function(t){var e=t.width,r=t.height;return(0,je.jsx)(Ye,Ee({width:e,height:r},n))}})},Ue=function(n,t,e,r){var o=(0,i.P6)(t,n),u=o[0],l=o[1];return e.find((function(n){return Me(n,r.invert([u,l]))}))},Ve=(0,r.memo)((function(n){var t=n.width,e=n.height,u=n.margin,l=n.pixelRatio,a=n.features,c=n.layers,s=n.projectionType,f=n.projectionScale,d=n.projectionTranslation,p=n.projectionRotation,h=n.fillColor,g=n.borderWidth,v=n.borderColor,m=n.enableGraticule,y=n.graticuleLineWidth,b=n.graticuleLineColor,C=n.isInteractive,S=n.onClick,M=n.onMouseMove,x=n.tooltip,j=(0,r.useRef)(null),E=(0,i.Fg)(),k=(0,i.Bs)(t,e,u),w=k.margin,R=k.outerWidth,W=k.outerHeight,T=we({width:t,height:e,projectionType:s,projectionScale:f,projectionTranslation:d,projectionRotation:p,fillColor:h,borderWidth:g,borderColor:v}),q=T.projection,L=T.graticule,O=T.path,_=T.getFillColor,B=T.getBorderWidth,F=T.getBorderColor;(0,r.useEffect)((function(){if(j){j.current.width=R*l,j.current.height=W*l;var t=j.current.getContext("2d");t.scale(l,l),t.fillStyle=E.background,t.fillRect(0,0,R,W),t.translate(w.left,w.top),O.context(t),c.forEach((function(e){"graticule"===e?!0===m&&(t.lineWidth=y,t.strokeStyle=b,t.beginPath(),O(L()),t.stroke()):"features"===e?a.forEach((function(n){t.beginPath(),O(n),t.fillStyle=_(n),t.fill();var e=B(n);e>0&&(t.strokeStyle=F(n),t.lineWidth=e,t.stroke())})):e(t,n)}))}}),[j,R,W,w,l,E,O,L,_,B,F,a,c]);var P=(0,o.lL)(),N=P.showTooltipFromEvent,z=P.hideTooltip,G=(0,r.useCallback)((function(n){if(C&&x){var t=Ue(n,j.current,a,q);t?N((0,je.jsx)(x,{feature:t}),n):z(),M&&M(t||null,n)}}),[N,z,C,x,j,a,q]),H=(0,r.useCallback)((function(){return C&&z()}),[C,z]),A=(0,r.useCallback)((function(n){if(C&&S){var t=Ue(n,j.current,a,q);t&&S(t,n)}}),[C,j,a,q,S]);return(0,je.jsx)("canvas",{ref:j,width:R*l,height:W*l,style:{width:R,height:W,cursor:C?"auto":"normal"},onMouseMove:G,onMouseLeave:H,onClick:A})}));Ve.displatName="GeoMapCanvas",Ve.propTypes=Le,Ve.defaultProps=Ne;var $e=(0,i.li)(Ve),Qe=function(n){return(0,je.jsx)(i.d,{children:function(t){var e=t.width,r=t.height;return(0,je.jsx)($e,Ee({width:e,height:r},n))}})},Ze=(0,r.memo)((function(n){var t=n.width,e=n.height,u=n.margin,l=n.features,a=n.data,c=n.match,s=n.label,f=n.value,d=n.valueFormat,p=n.projectionType,h=n.projectionScale,g=n.projectionTranslation,v=n.projectionRotation,m=n.colors,y=n.domain,b=n.unknownColor,C=n.borderWidth,S=n.borderColor,M=n.enableGraticule,x=n.graticuleLineWidth,j=n.graticuleLineColor,E=n.layers,k=n.legends,w=n.isInteractive,R=n.onClick,W=n.tooltip,T=n.role,q=(0,i.Bs)(t,e,u),L=q.margin,O=q.outerWidth,_=q.outerHeight,B=we({width:t,height:e,projectionType:p,projectionScale:h,projectionTranslation:g,projectionRotation:v,fillColor:function(){},borderWidth:C,borderColor:S}),F=B.graticule,P=B.path,N=B.getBorderWidth,z=B.getBorderColor,G=Re({features:l,data:a,match:c,label:s,value:f,valueFormat:d,colors:m,unknownColor:b,domain:y}),H=G.getFillColor,A=G.boundFeatures,D=G.legendData,X=(0,i.Fg)(),Y=(0,o.lL)(),I=Y.showTooltipFromEvent,U=Y.hideTooltip,V=(0,r.useCallback)((function(n,t){return w&&R&&R(n,t)}),[w,R]),$=(0,r.useCallback)((function(n,t){return w&&W&&I((0,je.jsx)(W,{feature:n}),t)}),[w,I,W]),Q=(0,r.useCallback)((function(n,t){return w&&W&&I((0,je.jsx)(W,{feature:n}),t)}),[w,I,W]),Z=(0,r.useCallback)((function(){return w&&U()}),[w,U]);return(0,je.jsx)(i.tM,{width:O,height:_,margin:L,theme:X,role:T,children:E.map((function(n,i){return"graticule"===n?!0!==M?null:(0,je.jsx)(Ae,{path:P,graticule:F,lineWidth:x,lineColor:j},"graticule"):"features"===n?(0,je.jsx)(r.Fragment,{children:A.map((function(n){return(0,je.jsx)(De,{feature:n,path:P,fillColor:H(n),borderWidth:N(n),borderColor:z(n),onMouseEnter:$,onMouseMove:Q,onMouseLeave:Z,onClick:V},n.id)}))},"features"):"legends"===n?k.map((function(n,r){return(0,je.jsx)(xe.$6,Ee({containerWidth:t,containerHeight:e,data:D},n),r)})):(0,je.jsx)(r.Fragment,{children:n({})},i)}))})}));Ze.displayName="Choropleth",Ze.propTypes=_e,Ze.defaultProps=Ge;var Je=(0,i.li)(Ze),Ke=function(n){return(0,je.jsx)(i.d,{children:function(t){var e=t.width,r=t.height;return(0,je.jsx)(Je,Ee({width:e,height:r},n))}})},nr=function(n,t,e,r){var o=(0,i.P6)(t,n),u=o[0],l=o[1];return e.find((function(n){return Me(n,r.invert([u,l]))}))},tr=(0,r.memo)((function(n){var t=n.width,e=n.height,u=n.margin,l=n.pixelRatio,a=n.features,c=n.data,s=n.match,f=n.label,d=n.value,p=n.valueFormat,h=n.projectionType,g=n.projectionScale,v=n.projectionTranslation,m=n.projectionRotation,y=n.colors,b=n.domain,C=n.unknownColor,S=n.borderWidth,M=n.borderColor,x=n.enableGraticule,j=n.graticuleLineWidth,E=n.graticuleLineColor,k=n.layers,w=n.legends,R=n.isInteractive,W=n.onClick,T=n.onMouseMove,q=n.tooltip,L=(0,r.useRef)(null),O=(0,i.Fg)(),_=(0,i.Bs)(t,e,u),B=_.margin,F=_.outerWidth,P=_.outerHeight,N=we({width:t,height:e,projectionType:h,projectionScale:g,projectionTranslation:v,projectionRotation:m,fillColor:function(){},borderWidth:S,borderColor:M}),z=N.projection,G=N.graticule,H=N.path,A=N.getBorderWidth,D=N.getBorderColor,X=Re({features:a,data:c,match:s,label:f,value:d,valueFormat:p,colors:y,unknownColor:C,domain:b}),Y=X.getFillColor,I=X.boundFeatures,U=X.legendData;(0,r.useEffect)((function(){if(L){L.current.width=F*l,L.current.height=P*l;var n=L.current.getContext("2d");n.scale(l,l),n.fillStyle=O.background,n.fillRect(0,0,F,P),n.translate(B.left,B.top),H.context(n),k.forEach((function(r){"graticule"===r?!0===x&&(n.lineWidth=j,n.strokeStyle=E,n.beginPath(),H(G()),n.stroke()):"features"===r?I.forEach((function(t){n.beginPath(),H(t),n.fillStyle=Y(t),n.fill();var e=A(t);e>0&&(n.strokeStyle=D(t),n.lineWidth=e,n.stroke())})):"legends"===r&&w.forEach((function(r){(0,xe.as)(n,Ee({},r,{data:U,containerWidth:t,containerHeight:e,theme:O}))}))}))}}),[L,F,P,B,l,O,H,G,Y,A,D,I,w,k]);var V=(0,o.lL)(),$=V.showTooltipFromEvent,Q=V.hideTooltip,Z=(0,r.useCallback)((function(n){if(R&&q){var t=nr(n,L.current,I,z);t?$((0,je.jsx)(q,{feature:t}),n):Q(),T&&T(t||null,n)}}),[$,Q,R,q,L,I,z]),J=(0,r.useCallback)((function(){return R&&Q()}),[R,Q]),K=(0,r.useCallback)((function(n){if(R&&W){var t=nr(n,L.current,I,z);t&&W(t,n)}}),[R,L,I,z,W]);return(0,je.jsx)("canvas",{ref:L,width:F*l,height:P*l,style:{width:F,height:P,cursor:R?"auto":"normal"},onMouseMove:Z,onMouseLeave:J,onClick:K})}));tr.displayName="ChoroplethCanvas",tr.propTypes=Be,tr.defaultProps=He;var er=(0,i.li)(tr),rr=function(n){return(0,je.jsx)(i.d,{children:function(t){var e=t.width,r=t.height;return(0,je.jsx)(er,Ee({width:e,height:r},n))}})}},26729:function(n,t,e){e.d(t,{$6:function(){return v},iQ:function(){return C},as:function(){return y},_i:function(){return b}});var r=e(85893),i=(e(34292),e(12978)),o=(e(16780),e(67294)),u=e(45697),l=e.n(u);function a(){return a=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},a.apply(this,arguments)}var c={top:0,right:0,bottom:0,left:0},s=function(n){var t,e=n.direction,r=n.itemsSpacing,i=n.padding,o=n.itemCount,u=n.itemWidth,l=n.itemHeight;if("number"!=typeof i&&("object"!=typeof(t=i)||Array.isArray(t)||null===t))throw new Error("Invalid property padding, must be one of: number, object");var s="number"==typeof i?{top:i,right:i,bottom:i,left:i}:a({},c,i),f=s.left+s.right,d=s.top+s.bottom,p=u+f,h=l+d,g=(o-1)*r;return"row"===e?p=u*o+g+f:"column"===e&&(h=l*o+g+d),{width:p,height:h,padding:s}},f=function(n){var t=n.anchor,e=n.translateX,r=n.translateY,i=n.containerWidth,o=n.containerHeight,u=n.width,l=n.height,a=e,c=r;switch(t){case"top":a+=(i-u)/2;break;case"top-right":a+=i-u;break;case"right":a+=i-u,c+=(o-l)/2;break;case"bottom-right":a+=i-u,c+=o-l;break;case"bottom":a+=(i-u)/2,c+=o-l;break;case"bottom-left":c+=o-l;break;case"left":c+=(o-l)/2;break;case"center":a+=(i-u)/2,c+=(o-l)/2}return{x:a,y:c}},d=function(n){var t,e,r,i,o,u,l=n.direction,a=n.justify,c=n.symbolSize,s=n.symbolSpacing,f=n.width,d=n.height;switch(l){case"left-to-right":t=0,e=(d-c)/2,i=d/2,u="central",a?(r=f,o="end"):(r=c+s,o="start");break;case"right-to-left":t=f-c,e=(d-c)/2,i=d/2,u="central",a?(r=0,o="start"):(r=f-c-s,o="end");break;case"top-to-bottom":t=(f-c)/2,e=0,r=f/2,o="middle",a?(i=d,u="alphabetic"):(i=c+s,u="text-before-edge");break;case"bottom-to-top":t=(f-c)/2,e=d-c,r=f/2,o="middle",a?(i=0,u="text-before-edge"):(i=d-c-s,u="alphabetic")}return{symbolX:t,symbolY:e,labelX:r,labelY:i,labelAnchor:o,labelAlignment:u}},p={circle:function(n){var t=n.x,e=n.y,i=n.size,o=n.fill,u=n.opacity,l=void 0===u?1:u,a=n.borderWidth,c=void 0===a?0:a,s=n.borderColor;return(0,r.jsx)("circle",{r:i/2,cx:t+i/2,cy:e+i/2,fill:o,opacity:l,strokeWidth:c,stroke:void 0===s?"transparent":s,style:{pointerEvents:"none"}})},diamond:function(n){var t=n.x,e=n.y,i=n.size,o=n.fill,u=n.opacity,l=void 0===u?1:u,a=n.borderWidth,c=void 0===a?0:a,s=n.borderColor;return(0,r.jsx)("g",{transform:"translate("+t+","+e+")",children:(0,r.jsx)("path",{d:"\n                    M"+i/2+" 0\n                    L"+.8*i+" "+i/2+"\n                    L"+i/2+" "+i+"\n                    L"+.2*i+" "+i/2+"\n                    L"+i/2+" 0\n                ",fill:o,opacity:l,strokeWidth:c,stroke:void 0===s?"transparent":s,style:{pointerEvents:"none"}})})},square:function(n){var t=n.x,e=n.y,i=n.size,o=n.fill,u=n.opacity,l=void 0===u?1:u,a=n.borderWidth,c=void 0===a?0:a,s=n.borderColor;return(0,r.jsx)("rect",{x:t,y:e,fill:o,opacity:l,strokeWidth:c,stroke:void 0===s?"transparent":s,width:i,height:i,style:{pointerEvents:"none"}})},triangle:function(n){var t=n.x,e=n.y,i=n.size,o=n.fill,u=n.opacity,l=void 0===u?1:u,a=n.borderWidth,c=void 0===a?0:a,s=n.borderColor;return(0,r.jsx)("g",{transform:"translate("+t+","+e+")",children:(0,r.jsx)("path",{d:"\n                M"+i/2+" 0\n                L"+i+" "+i+"\n                L0 "+i+"\n                L"+i/2+" 0\n            ",fill:o,opacity:l,strokeWidth:c,stroke:void 0===s?"transparent":s,style:{pointerEvents:"none"}})})}},h=function(n){var t,e,u,l,c,s,f,h,g,v,m,y=n.x,b=n.y,C=n.width,S=n.height,M=n.data,x=n.direction,j=void 0===x?"left-to-right":x,E=n.justify,k=void 0!==E&&E,w=n.textColor,R=n.background,W=void 0===R?"transparent":R,T=n.opacity,q=void 0===T?1:T,L=n.symbolShape,O=void 0===L?"square":L,_=n.symbolSize,B=void 0===_?16:_,F=n.symbolSpacing,P=void 0===F?8:F,N=n.symbolBorderWidth,z=void 0===N?0:N,G=n.symbolBorderColor,H=void 0===G?"transparent":G,A=n.onClick,D=n.onMouseEnter,X=n.onMouseLeave,Y=n.toggleSerie,I=n.effects,U=(0,o.useState)({}),V=U[0],$=U[1],Q=(0,i.Fg)(),Z=(0,o.useCallback)((function(n){if(I){var t=I.filter((function(n){return"hover"===n.on})).reduce((function(n,t){return a({},n,t.style)}),{});$(t)}null==D||D(M,n)}),[D,M,I]),J=(0,o.useCallback)((function(n){if(I){var t=I.filter((function(n){return"hover"!==n.on})).reduce((function(n,t){return a({},n,t.style)}),{});$(t)}null==X||X(M,n)}),[X,M,I]),K=d({direction:j,justify:k,symbolSize:null!=(t=V.symbolSize)?t:B,symbolSpacing:P,width:C,height:S}),nn=K.symbolX,tn=K.symbolY,en=K.labelX,rn=K.labelY,on=K.labelAnchor,un=K.labelAlignment,ln=[A,D,X,Y].some((function(n){return void 0!==n})),an="function"==typeof O?O:p[O];return(0,r.jsxs)("g",{transform:"translate("+y+","+b+")",style:{opacity:null!=(e=V.itemOpacity)?e:q},children:[(0,r.jsx)("rect",{width:C,height:S,fill:null!=(u=V.itemBackground)?u:W,style:{cursor:ln?"pointer":"auto"},onClick:function(n){null==A||A(M,n),null==Y||Y(M.id)},onMouseEnter:Z,onMouseLeave:J}),o.createElement(an,a({id:M.id,x:nn,y:tn,size:null!=(l=V.symbolSize)?l:B,fill:null!=(c=null!=(s=M.fill)?s:M.color)?c:"black",borderWidth:null!=(f=V.symbolBorderWidth)?f:z,borderColor:null!=(h=V.symbolBorderColor)?h:H},M.hidden?Q.legends.hidden.symbol:void 0)),(0,r.jsx)("text",{textAnchor:on,style:a({},Q.legends.text,{fill:null!=(g=null!=(v=null!=(m=V.itemTextColor)?m:w)?v:Q.legends.text.fill)?g:"black",dominantBaseline:un,pointerEvents:"none",userSelect:"none"},M.hidden?Q.legends.hidden.text:void 0),x:en,y:rn,children:M.label})]})},g=function(n){var t=n.data,e=n.x,i=n.y,o=n.direction,u=n.padding,l=void 0===u?0:u,a=n.justify,c=n.effects,f=n.itemWidth,d=n.itemHeight,p=n.itemDirection,g=void 0===p?"left-to-right":p,v=n.itemsSpacing,m=void 0===v?0:v,y=n.itemTextColor,b=n.itemBackground,C=void 0===b?"transparent":b,S=n.itemOpacity,M=void 0===S?1:S,x=n.symbolShape,j=n.symbolSize,E=n.symbolSpacing,k=n.symbolBorderWidth,w=n.symbolBorderColor,R=n.onClick,W=n.onMouseEnter,T=n.onMouseLeave,q=n.toggleSerie,L=s({itemCount:t.length,itemWidth:f,itemHeight:d,itemsSpacing:m,direction:o,padding:l}).padding,O="row"===o?f+m:0,_="column"===o?d+m:0;return(0,r.jsx)("g",{transform:"translate("+e+","+i+")",children:t.map((function(n,t){return(0,r.jsx)(h,{data:n,x:t*O+L.left,y:t*_+L.top,width:f,height:d,direction:g,justify:a,effects:c,textColor:y,background:C,opacity:M,symbolShape:x,symbolSize:j,symbolSpacing:E,symbolBorderWidth:k,symbolBorderColor:w,onClick:R,onMouseEnter:W,onMouseLeave:T,toggleSerie:q},t)}))})},v=function(n){var t=n.data,e=n.containerWidth,i=n.containerHeight,o=n.translateX,u=void 0===o?0:o,l=n.translateY,a=void 0===l?0:l,c=n.anchor,d=n.direction,p=n.padding,h=void 0===p?0:p,v=n.justify,m=n.itemsSpacing,y=void 0===m?0:m,b=n.itemWidth,C=n.itemHeight,S=n.itemDirection,M=n.itemTextColor,x=n.itemBackground,j=n.itemOpacity,E=n.symbolShape,k=n.symbolSize,w=n.symbolSpacing,R=n.symbolBorderWidth,W=n.symbolBorderColor,T=n.onClick,q=n.onMouseEnter,L=n.onMouseLeave,O=n.toggleSerie,_=n.effects,B=s({itemCount:t.length,itemsSpacing:y,itemWidth:b,itemHeight:C,direction:d,padding:h}),F=B.width,P=B.height,N=f({anchor:c,translateX:u,translateY:a,containerWidth:e,containerHeight:i,width:F,height:P}),z=N.x,G=N.y;return(0,r.jsx)(g,{data:t,x:z,y:G,direction:d,padding:h,justify:v,effects:_,itemsSpacing:y,itemWidth:b,itemHeight:C,itemDirection:S,itemTextColor:M,itemBackground:x,itemOpacity:j,symbolShape:E,symbolSize:k,symbolSpacing:w,symbolBorderWidth:R,symbolBorderColor:W,onClick:T,onMouseEnter:q,onMouseLeave:L,toggleSerie:"boolean"==typeof O?void 0:O})},m={start:"left",middle:"center",end:"right"},y=function(n,t){var e=t.data,r=t.containerWidth,i=t.containerHeight,o=t.translateX,u=void 0===o?0:o,l=t.translateY,a=void 0===l?0:l,c=t.anchor,p=t.direction,h=t.padding,g=void 0===h?0:h,v=t.justify,y=void 0!==v&&v,b=t.itemsSpacing,C=void 0===b?0:b,S=t.itemWidth,M=t.itemHeight,x=t.itemDirection,j=void 0===x?"left-to-right":x,E=t.itemTextColor,k=t.symbolSize,w=void 0===k?16:k,R=t.symbolSpacing,W=void 0===R?8:R,T=t.theme,q=s({itemCount:e.length,itemWidth:S,itemHeight:M,itemsSpacing:C,direction:p,padding:g}),L=q.width,O=q.height,_=q.padding,B=f({anchor:c,translateX:u,translateY:a,containerWidth:r,containerHeight:i,width:L,height:O}),F=B.x,P=B.y,N="row"===p?S+C:0,z="column"===p?M+C:0;n.save(),n.translate(F,P),n.font=T.legends.text.fontSize+"px "+(T.legends.text.fontFamily||"sans-serif"),e.forEach((function(t,e){var r,i,o=e*N+_.left,u=e*z+_.top,l=d({direction:j,justify:y,symbolSize:w,symbolSpacing:W,width:S,height:M}),a=l.symbolX,c=l.symbolY,s=l.labelX,f=l.labelY,p=l.labelAnchor,h=l.labelAlignment;n.fillStyle=null!=(r=t.color)?r:"black",n.fillRect(o+a,u+c,w,w),n.textAlign=m[p],"central"===h&&(n.textBaseline="middle"),n.fillStyle=null!=(i=null!=E?E:T.legends.text.fill)?i:"black",n.fillText(String(t.label),o+s,u+f)})),n.restore()},b=function(n){var t=n.scale,e=n.domain,r=n.reverse,i=void 0!==r&&r,u=n.valueFormat,l=void 0===u?function(n){return n}:u,a=n.separator,c=void 0===a?" - ":a;return(0,o.useMemo)((function(){var n=(null!=e?e:t.range()).map((function(n,e){var r=t.invertExtent(n),i=r[0],o=r[1];return{id:n,index:e,extent:[i,o],label:""+l(i)+c+l(o),value:t(i),color:n}}));return i&&n.reverse(),n}),[e,t,i,c,l])},C={data:l().arrayOf(l().object),anchor:l().oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:l().number,translateY:l().number,direction:l().oneOf(["row","column"]).isRequired,itemsSpacing:l().number,itemWidth:l().number.isRequired,itemHeight:l().number.isRequired,itemDirection:l().oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:l().string,itemBackground:l().string,itemOpacity:l().number,symbolShape:l().oneOfType([l().oneOf(["circle","diamond","square","triangle"]),l().func]),symbolSize:l().number,symbolSpacing:l().number,symbolBorderWidth:l().number,symbolBorderColor:l().string,onClick:l().func,onMouseEnter:l().func,onMouseLeave:l().func,effects:l().arrayOf(l().shape({on:l().oneOfType([l().oneOf(["hover"])]).isRequired,style:l().shape({itemTextColor:l().string,itemBackground:l().string,itemOpacity:l().number,symbolSize:l().number,symbolBorderWidth:l().number,symbolBorderColor:l().string}).isRequired}))}}}]);
//# sourceMappingURL=6057-e84c817836e7b612657c.js.map