{"version":3,"file":"component---src-templates-blog-blog-template-jsx-d8fd85a5887bd3da5999.js","mappings":"0PAoGA,UAzFqB,SAAC,GAAuC,IAA7BA,EAA4B,EAApCC,KAAQD,OAAUE,EAAkB,EAAlBA,YACxC,GAAiCC,EAAAA,EAAAA,WAAS,GAAnCC,EAAP,KAAgBC,EAAhB,KAEA,SAASC,KACPD,GAAeD,GAEXG,OAAOC,OAAS,OAAoB,IAAZJ,IACZK,SAASC,cAAc,YAC7BC,iBAMZ,OAFAC,EAAAA,EAAAA,GAAsB,mBAGpB,yBACE,QAAC,IAAD,CACEC,MAAM,OACNC,SAAU,CACR,8BACA,qBACA,yBACA,WACA,QAEFC,YAAY,0DAGd,eACEC,WAC6B,GAA3Bd,EAAYe,YAAmB,WAAa,aADrC,gGAIT,eACEC,GAAG,iBACHF,UAAU,gDACVG,MAAO,CACLC,WAAW,oFAAqFC,EAAAA,EAAtF,IACVC,mBAAoB,SACpBC,eAAgB,QAChBC,qBAAsB,YAI1B,QAAC,IAAD,CAAMC,SAAO,EAACC,KAAG,EAACC,MAAO,MACvB,eACEX,UAAU,aACVG,MAAO,CAAES,WAAY,sBAErB,cAAIZ,UAAU,2BAAd,SACA,aACEA,UAAU,kCACVG,MAAO,CAAEU,SAAU,UAFrB,sHASJ,QAAC,IAAD,CAAMJ,SAAO,EAACC,KAAG,EAACC,MAAO,MACvB,eAAKX,UAA0C,IAA5Bd,EAAYe,YAAoB,SAAW,KAC5D,QAAC,IAAD,CACEf,YAAaA,EACbI,cAAeA,EACfF,QAASA,KAEX,eAAKY,UAAU,UACb,QAAC,EAAAc,KAAD,CAAMC,GAAG,eACP,QAAC,KAAD,CAAYf,UAAU,iDAAtB,qBAUV,QAAC,IAAD,CACEhB,OAAQA,EACRE,YAAaA,EACb8B,SAAU,QACV1B,cAAeA,EACfF,QAASA,O,qECtFV,SAASQ,EACdqB,EACAC,EACAC,EACAC,QACA,IAHAF,IAAAA,GAAS,QAGT,IAFAC,IAAAA,EAAU,UAEV,IADAC,IAAAA,EAAU,KAEV,OAAgCjC,EAAAA,EAAAA,UAAS,CAAEkC,EAAG,EAAGC,EAAG,IAA7CC,EAAP,KAAiBC,EAAjB,KAEMC,GAAqBC,EAAAA,EAAAA,cAAY,SAACC,GACtC,IAAMxB,EAAQyB,iBAAiBD,GACzBE,EAAS1B,EAAM2B,WAAa3B,EAAM4B,aAExC,QAAsB,IAAXF,IAA2BA,GAAoB,QAAVA,EAC9C,MAAO,CACLR,EAAG,EACHC,EAAG,GAIP,IAAMU,EAASH,EAAOI,QAAQ,cAAe,IAAIC,MAAM,KAGvD,MAAO,CACLb,EAAGc,SAASH,EAAO,MAAQG,SAASH,EAAO,IAC3CV,EAAGa,SAASH,EAAO,MAAQG,SAASH,EAAO,QAgD/C,OA5CAI,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAc,SAACC,GAEnB,IAAIC,EAAQD,EAAME,QAAUjB,EAASF,EACjCoB,EAAQH,EAAMI,QAAUnB,EAASD,EAGrCE,EAAY,CAAEH,EAAGiB,EAAME,QAASlB,EAAGgB,EAAMI,UAGzC,IAAIC,EAAkBlB,EAAmBrB,GACzCA,EAAWD,MAAM2B,UAAjB,eACGX,EAAUoB,EAAQI,EAAgBtB,GADrC,SAEQD,EAAUqB,EAAQE,EAAgBrB,GAF1C,kBAKElB,EAAaX,SAASC,cAAT,IAA2BuB,GAC5C,GAAKb,EAAL,CAGAA,EAAWD,MAAMyC,WAAa,OAC9B,IAAIC,EAAezC,EAcnB,OAZe,IAAXc,IACF2B,EAAezC,EAAW0C,eAG5BD,EAAaE,iBAAiB,YAAaV,GAC3CQ,EAAaE,iBAAiB,cAAc,WAC1C3C,EAAWD,MAAMyC,WAAa,WAC9BxC,EAAWD,MAAMO,IAAM,EACvBN,EAAWD,MAAM6C,KAAO,KAInB,WACD5C,IACFyC,EAAaI,oBAAoB,YAAaZ,GAC9CQ,EAAaI,oBAAoB,cAAc,WAC7C7C,EAAWD,MAAMyC,WAAa,eAInC,CAACrB,EAAUE,IACPF","sources":["webpack://datavizhub-tuos/./src/templates/blog/blogTemplate.jsx","webpack://datavizhub-tuos/./src/utils/hooks/backgroundMovement.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { graphql, Link } from \"gatsby\";\r\nimport BlogLayout from \"../../components/blog/blogLayout\";\r\nimport MenuCategory from \"../../components/blog/menuCategory\";\r\nimport PropTypes from \"prop-types\";\r\nimport SEO from \"../../components/shared/seo\";\r\nimport Flip from \"react-reveal/Flip\";\r\nimport { GreyButton } from \"../../components/style/styleComponent\";\r\nimport Bg from \"../../images/blog/colorful-world.jpg\";\r\nimport { useBackgroundMovement } from \"../../utils/hooks/backgroundMovement\";\r\n\r\nconst BlogTemplate = ({ data: { allMdx }, pageContext }) => {\r\n  const [tagMenu, toggleTagMenu] = useState(false);\r\n\r\n  function handleTagMenu() {\r\n    toggleTagMenu(!tagMenu);\r\n\r\n    if (screen.width <= 1280 && tagMenu === false) {\r\n      let element = document.querySelector(\"#tagMenu\");\r\n      element.scrollIntoView();\r\n    }\r\n  }\r\n\r\n  useBackgroundMovement(\"blogBackground\");\r\n\r\n  return (\r\n    <>\r\n      <SEO\r\n        title=\"Blog\"\r\n        keywords={[\r\n          \"the university of sheffield\",\r\n          \"data visualisation\",\r\n          \"data visualisation hub\",\r\n          \"research\",\r\n          \"Blog\"\r\n        ]}\r\n        description=\"Blog posts, tutorials, and articles at Dataviz.Shef.\"\r\n      />\r\n      {/* Height={`${pageContext.currentPage != 1 ? `50vh` : ``}`} */}\r\n      <div\r\n        className={`${\r\n          pageContext.currentPage != 1 ? \"min-h-60\" : \"min-h-100\"\r\n        } w-full overflow-hidden flex flex-col items-center justify-center text-center relative z-10`}\r\n      >\r\n        <div\r\n          id=\"blogBackground\"\r\n          className=\"absolute top-0 left-0 w-full h-full scale-110\"\r\n          style={{\r\n            background: `linear-gradient(0deg, rgba(255, 255, 255, 0.70), rgba(255, 255, 255, 0.70)), url(${Bg})`,\r\n            backgroundPosition: \"center\",\r\n            backgroundSize: \"cover\",\r\n            backgroundAttachment: \"fixed\"\r\n          }}\r\n        ></div>\r\n\r\n        <Flip cascade top delay={700}>\r\n          <div\r\n            className=\"text-black\"\r\n            style={{ textShadow: \"#fff 0px 0px 5px\" }}\r\n          >\r\n            <h1 className=\"text-6xl font-extrabold\">Blog</h1>\r\n            <p\r\n              className=\"text-md font-semibold mt-5 px-5\"\r\n              style={{ maxWidth: \"500px\" }}\r\n            >\r\n              &ldquo;The greatest value of a picture is when it forces us to\r\n              notice what we never expected to see.&rdquo; - John W. Tukey\r\n            </p>\r\n          </div>\r\n        </Flip>\r\n        <Flip cascade top delay={700}>\r\n          <div className={`${pageContext.currentPage !== 1 ? \"hidden\" : \"\"}`}>\r\n            <MenuCategory\r\n              pageContext={pageContext}\r\n              handleTagMenu={handleTagMenu}\r\n              tagMenu={tagMenu}\r\n            />\r\n            <div className=\"mt-10\">\r\n              <Link to=\"/blog#read\">\r\n                <GreyButton className=\"text-sm bg-gray-700 text-white hover:bg-black\">\r\n                  What&apos;s new?\r\n                </GreyButton>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </Flip>\r\n      </div>\r\n\r\n      {/* blog posts & tag menu */}\r\n      <BlogLayout\r\n        allMdx={allMdx}\r\n        pageContext={pageContext}\r\n        pageType={\"/blog\"}\r\n        handleTagMenu={handleTagMenu}\r\n        tagMenu={tagMenu}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BlogTemplate;\r\n\r\nBlogTemplate.propTypes = {\r\n  pageContext: PropTypes.any,\r\n  data: PropTypes.any\r\n};\r\n\r\nexport const query = graphql`\r\n  query blogList($skip: Int!, $limit: Int!) {\r\n    allMdx(\r\n      filter: { frontmatter: { type: { eq: null }, published: { ne: false } } }\r\n      sort: { fields: [frontmatter___date], order: DESC }\r\n      limit: $limit\r\n      skip: $skip\r\n    ) {\r\n      edges {\r\n        node {\r\n          id\r\n          frontmatter {\r\n            ...MdxFrontmatter\r\n          }\r\n          fields {\r\n            ...MdxFields\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { useState, useEffect, useCallback } from \"react\";\r\n\r\n/**\r\n * Move background on mouse movement\r\n * @elementId string: background element\r\n * @parent boolean: whether to move background on mouse hovering parent element of 'elementId'\r\n * Make sure to add the style overflow: hidden to parent/element, and add the style transform: scale(1.1) to the element\r\n */\r\nexport function useBackgroundMovement(\r\n  elementId,\r\n  parent = true,\r\n  xFactor = 0.06,\r\n  yFactor = 0.05\r\n) {\r\n  const [location, setLocation] = useState({ x: 0, y: 0 });\r\n\r\n  const getTranslateValues = useCallback((element) => {\r\n    const style = getComputedStyle(element);\r\n    const matrix = style.transform || style.MozTransform;\r\n\r\n    if (typeof matrix === \"undefined\" || !matrix || matrix == \"none\") {\r\n      return {\r\n        x: 0,\r\n        y: 0\r\n      };\r\n    }\r\n\r\n    const matArr = matrix.replace(/[^0-9\\-.,]/g, \"\").split(\",\");\r\n    // 3D: index 12 and 13\r\n    // 2D: index 4 and 5\r\n    return {\r\n      x: parseInt(matArr[12]) || parseInt(matArr[4]),\r\n      y: parseInt(matArr[13]) || parseInt(matArr[5])\r\n    };\r\n  });\r\n\r\n  useEffect(() => {\r\n    const onMouseMove = (event) => {\r\n      // calculate mouse movement\r\n      let xMove = event.clientX - location.x;\r\n      let yMove = event.clientY - location.y;\r\n\r\n      // update mouse location\r\n      setLocation({ x: event.clientX, y: event.clientY });\r\n\r\n      // move background according to difference\r\n      let translateValues = getTranslateValues(background);\r\n      background.style.transform = `translate(${\r\n        -xFactor * xMove + translateValues.x\r\n      }px, ${-yFactor * yMove + translateValues.y}px) scale(1.1)`;\r\n    };\r\n\r\n    let background = document.querySelector(`#${elementId}`);\r\n    if (!background) {\r\n      return;\r\n    }\r\n    background.style.transition = \"none\";\r\n    let hoverElement = background;\r\n\r\n    if (parent === true) {\r\n      hoverElement = background.parentElement;\r\n    }\r\n\r\n    hoverElement.addEventListener(\"mousemove\", onMouseMove);\r\n    hoverElement.addEventListener(\"mouseleave\", () => {\r\n      background.style.transition = \".5s ease\";\r\n      background.style.top = 0;\r\n      background.style.left = 0;\r\n    });\r\n\r\n    // Remove event listeners on cleanup\r\n    return () => {\r\n      if (background) {\r\n        hoverElement.removeEventListener(\"mousemove\", onMouseMove);\r\n        hoverElement.removeEventListener(\"mouseleave\", () => {\r\n          background.style.transition = \"none\";\r\n        });\r\n      }\r\n    };\r\n  }, [location, getTranslateValues]);\r\n  return location;\r\n}\r\n"],"names":["allMdx","data","pageContext","useState","tagMenu","toggleTagMenu","handleTagMenu","screen","width","document","querySelector","scrollIntoView","useBackgroundMovement","title","keywords","description","className","currentPage","id","style","background","Bg","backgroundPosition","backgroundSize","backgroundAttachment","cascade","top","delay","textShadow","maxWidth","Link","to","pageType","elementId","parent","xFactor","yFactor","x","y","location","setLocation","getTranslateValues","useCallback","element","getComputedStyle","matrix","transform","MozTransform","matArr","replace","split","parseInt","useEffect","onMouseMove","event","xMove","clientX","yMove","clientY","translateValues","transition","hoverElement","parentElement","addEventListener","left","removeEventListener"],"sourceRoot":""}