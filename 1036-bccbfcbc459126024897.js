"use strict";(self.webpackChunkdatavizhub_tuos=self.webpackChunkdatavizhub_tuos||[]).push([[1036],{61036:function(n,e,t){t.r(e),t.d(e,{Marimekko:function(){return an},ResponsiveMarimekko:function(){return un},defaultProps:function(){return $},offsetById:function(){return J}});var r=t(67294),i=t(12978),o=t(77800),a=t(26729),u=t(27361),l=t.n(u),c=t(73474),s=t(69279),d=t(91662),h=t(58644),f=t(33297),v=t(20759),g=Math.sqrt(50),m=Math.sqrt(10),M=Math.sqrt(2);function p(n,e,t){var r=(e-n)/Math.max(0,t),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=g?10:o>=m?5:o>=M?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=g?10:o>=m?5:o>=M?2:1)}function y(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function b(n){var e=n,t=n;function r(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r}return 1===n.length&&(e=function(e,t){return n(e)-t},t=function(n){return function(e,t){return y(n(e),t)}}(n)),{left:r,center:function(n,t,i,o){null==i&&(i=0),null==o&&(o=n.length);var a=r(n,t,i,o-1);return a>i&&e(n[a-1],t)>-e(n[a],t)?a-1:a},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}t(87757);var x=b(y),k=x.right,w=(x.left,b((function(n){return null===n?NaN:+n})).center,k),C=t(95502),P=t(44922),j=t(81459);function I(n){return+n}var E=[0,1];function N(n){return n}function S(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:(t=isNaN(e)?NaN:.5,function(){return t});var t}function W(n,e,t){var r=n[0],i=n[1],o=e[0],a=e[1];return i<r?(r=S(i,r),o=t(a,o)):(r=S(r,i),o=t(o,a)),function(n){return o(r(n))}}function Z(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=S(n[a],n[a+1]),o[a]=t(e[a],e[a+1]);return function(e){var t=w(n,e,1,r)-1;return o[t](i[t](e))}}function F(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function L(){var n,e,t,r,i,o,a=E,u=E,l=C.Z,c=N;function s(){var n,e,t,l=Math.min(a.length,u.length);return c!==N&&(n=a[0],e=a[l-1],n>e&&(t=n,n=e,e=t),c=function(t){return Math.max(n,Math.min(e,t))}),r=l>2?Z:W,i=o=null,d}function d(e){return null==e||isNaN(e=+e)?t:(i||(i=r(a.map(n),u,l)))(n(c(e)))}return d.invert=function(t){return c(e((o||(o=r(u,a.map(n),P.Z)))(t)))},d.domain=function(n){return arguments.length?(a=Array.from(n,I),s()):a.slice()},d.range=function(n){return arguments.length?(u=Array.from(n),s()):u.slice()},d.rangeRound=function(n){return u=Array.from(n),l=j.Z,s()},d.clamp=function(n){return arguments.length?(c=!!n||N,s()):c!==N},d.interpolate=function(n){return arguments.length?(l=n,s()):l},d.unknown=function(n){return arguments.length?(t=n,d):t},function(t,r){return n=t,e=r,s()}}function A(){return L()(N,N)}function G(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n)}return this}var O=t(34294),V=t(34897),q=t(25117),B=t(41580),H=t(59631);function T(n,e,t,r){var i,o=function(n,e,t){var r=Math.abs(e-n)/Math.max(0,t),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=g?i*=10:o>=m?i*=5:o>=M&&(i*=2),e<n?-i:i}(n,e,t);switch((r=(0,O.Z)(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(n),Math.abs(e));return null!=r.precision||isNaN(i=(0,V.Z)(o,a))||(r.precision=i),(0,q.jH)(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=(0,B.Z)(o,Math.max(Math.abs(n),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=(0,H.Z)(o))||(r.precision=i-2*("%"===r.type))}return(0,q.WU)(r)}function X(n){var e=n.domain;return n.ticks=function(n){var t=e();return function(n,e,t){var r,i,o,a,u=-1;if(t=+t,(n=+n)==(e=+e)&&t>0)return[n];if((r=e<n)&&(i=n,n=e,e=i),0===(a=p(n,e,t))||!isFinite(a))return[];if(a>0){var l=Math.round(n/a),c=Math.round(e/a);for(l*a<n&&++l,c*a>e&&--c,o=new Array(i=c-l+1);++u<i;)o[u]=(l+u)*a}else{a=-a;var s=Math.round(n*a),d=Math.round(e*a);for(s/a<n&&++s,d/a>e&&--d,o=new Array(i=d-s+1);++u<i;)o[u]=(s+u)/a}return r&&o.reverse(),o}(t[0],t[t.length-1],null==n?10:n)},n.tickFormat=function(n,t){var r=e();return T(r[0],r[r.length-1],null==n?10:n,t)},n.nice=function(t){null==t&&(t=10);var r,i,o=e(),a=0,u=o.length-1,l=o[a],c=o[u],s=10;for(c<l&&(i=l,l=c,c=i,i=a,a=u,u=i);s-- >0;){if((i=p(l,c,t))===r)return o[a]=l,o[u]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return n},n}function Y(){var n=A();return n.copy=function(){return F(n,Y())},G.apply(n,arguments),X(n)}var _=t(16780),R=t(85468),U=t(62529),z=t(85893);function D(){return D=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},D.apply(this,arguments)}var $={layout:"vertical",offset:"none",outerPadding:0,innerPadding:3,layers:["grid","axes","bars","legends"],enableGridX:!1,enableGridY:!0,colors:{scheme:"nivo"},borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,animate:!0,motionConfig:"gentle"},J={expand:c.Z,diverging:s.Z,none:d.Z,silouhette:h.Z,wiggle:f.Z},K=function(n,e,t){return(0,r.useMemo)((function(){var r=J[t];return(0,v.Z)().keys(n).value((function(n,t){return e[t](n)})).offset(r)}),[n,e,t])},Q=function(n){var e=n.data,t=n.id,o=n.value,a=n.valueFormat,u=n.dimensions,c=n.layout,s=n.offset,d=n.outerPadding,h=n.innerPadding,f=n.colors,v=n.borderColor,g=n.borderWidth,m=n.width,M=n.height,p=function(n){return(0,r.useMemo)((function(){var e={},t=[];return n.forEach((function(n){t.push(n.id),e[n.id]="function"==typeof n.value?n.value:function(e){return l()(e,n.value,0)}})),{dimensionIds:t,dimensions:e}}),[n])}(u),y=p.dimensionIds,b=p.dimensions,x=function(n,e){return(0,r.useMemo)((function(){var t=n(e),r=[];return t.forEach((function(n){n.forEach((function(n){r.push(n[0]),r.push(n[1])}))})),{stacked:t,min:Math.min.apply(Math,r),max:Math.max.apply(Math,r)}}),[n,e])}(K(y,b,s),e),k=x.stacked,w=x.min,C=x.max,P=function(n,e,t){var i="function"==typeof e?e:function(n){return l()(n,e)},o="function"==typeof t?t:function(n){return l()(n,t,0)};return(0,r.useMemo)((function(){var e=[];return n.forEach((function(n,t){var r=i(n),a=o(n);e.push({index:t,id:r,value:a,data:n})})),e}),[n,i,o])}(e,t,o),j=function(n){var e=n.data,t=n.width,i=n.height,o=n.layout,a=n.outerPadding,u=n.innerPadding;return(0,r.useMemo)((function(){var n=e.reduce((function(n,e){return n+e.value}),0),r=Y().domain([0,n]),l=2*a+(e.length-1)*u;return"vertical"===o?r.range([0,t-l]):r.range([0,i-l]),r}),[e,t,i,o])}({data:P,width:m,height:M,layout:c,outerPadding:d,innerPadding:h}),I=function(n,e,t,i,o){return(0,r.useMemo)((function(){return"vertical"===o?Y().domain([e,n]).range([0,i]):Y().domain([n,e]).range([0,t])}),[n,e,t,i,o])}(w,C,m,M,c),E=function(n){var e=n.data,t=n.stacked,o=n.dimensionIds,a=n.valueFormat,u=n.thicknessScale,l=n.dimensionsScale,c=n.colors,s=n.layout,d=n.outerPadding,h=n.innerPadding,f=(0,_.U)(c,"id"),v=(0,i.O_)(a);return(0,r.useMemo)((function(){var n=[],r=d;return e.forEach((function(e){var i=u(e.value),a=D({},e,{x:"vertical"===s?r:0,y:"vertical"===s?0:r,width:"vertical"===s?i:0,height:"vertical"===s?0:i,dimensions:[]}),c=[],d=0;r+=i+h,o.forEach((function(n){var r=t.find((function(e){return e.key===n}));if(r){var i=r[e.index],o={id:n,datum:a,value:i[1]-i[0],formattedValue:v(i[1]-i[0]),color:"rgba(0, 0, 0, 0)",x:0,y:0,width:0,height:0},u=l(i[0]),h=l(i[1]);"vertical"===s?(o.x=a.x,o.y=Math.min(u,h),o.width=a.width,o.height=Math.max(u,h)-o.y,c.push(o.y),d+=o.height):(o.x=Math.min(u,h),o.y=a.y,o.width=Math.max(u,h)-o.x,o.height=a.height,c.push(o.x),d+=o.width),o.color=f(o),a.dimensions.push(o)}"vertical"===s?(a.y=Math.min.apply(Math,c),a.height=d):(a.x=Math.min.apply(Math,c),a.width=d)})),n.push(a)})),n}),[e,t,o,u,l,s,d,h,f,v])}({data:P,stacked:k,dimensionIds:y,valueFormat:a,thicknessScale:j,dimensionsScale:I,colors:f,layout:c,outerPadding:d,innerPadding:h}),N=function(n,e,t){var o=(0,i.Fg)(),a=(0,_.Bf)(e,o);return(0,r.useMemo)((function(){var e=[];return n.forEach((function(n){n.dimensions.forEach((function(r){e.push(D({key:n.id+"-"+r.id},r,{borderColor:a(r),borderWidth:t}))}))})),e}),[n,t,a])}(E,v,g);return{computedData:E,bars:N,thicknessScale:j,dimensionsScale:I,dimensionIds:y}},nn=function(n){var e,t=n.bar,i=n.animatedProps,o=n.isInteractive,a=n.tooltip,u=n.onClick,l=n.onMouseEnter,c=n.onMouseMove,s=n.onMouseLeave,d=(0,U.lL)(),h=d.showTooltipFromEvent,f=d.hideTooltip,v=(0,r.useCallback)((function(n){return h((0,r.createElement)(a,{bar:t}),n)}),[h,a,t]),g=(0,r.useCallback)((function(n){null==u||u(t,n)}),[u,t]),m=(0,r.useCallback)((function(n){null==l||l(t,n),v(n)}),[v,t]),M=(0,r.useCallback)((function(n){null==c||c(t,n),v(n)}),[v,t]),p=(0,r.useCallback)((function(n){null==s||s(t,n),f()}),[s,t,f]);return(0,z.jsx)(R.q.rect,{x:i.x,y:i.y,width:(0,R.to)(i.width,(function(n){return Math.max(n,0)})),height:(0,R.to)(i.height,(function(n){return Math.max(n,0)})),fill:null!=(e=t.fill)?e:i.color,stroke:i.borderColor,strokeWidth:t.borderWidth,onClick:o?g:void 0,onMouseEnter:o?m:void 0,onMouseMove:o?M:void 0,onMouseLeave:o?p:void 0})},en=function(n){var e=n.bars,t=n.isInteractive,r=n.tooltip,o=n.onClick,a=n.onMouseEnter,u=n.onMouseMove,l=n.onMouseLeave,c=(0,i.tf)(),s=c.animate,d=c.config,h=(0,R.useTransition)(e,{keys:function(n){return n.key},initial:function(n){return{x:n.x,y:n.y,width:n.width,height:n.height,color:n.color,opacity:1,borderColor:n.borderColor}},from:function(n){return{x:n.x,y:n.y,width:n.width,height:n.height,color:n.color,opacity:0,borderColor:n.borderColor}},enter:function(n){return{x:n.x,y:n.y,width:n.width,height:n.height,color:n.color,opacity:1,borderColor:n.borderColor}},update:function(n){return{x:n.x,y:n.y,width:n.width,height:n.height,color:n.color,opacity:1,borderColor:n.borderColor}},leave:function(n){return{opacity:0,x:n.x,y:n.y,width:n.width,height:n.height,color:n.color}},config:d,immediate:!s});return(0,z.jsx)(z.Fragment,{children:h((function(n,e){return(0,z.jsx)(nn,{bar:e,animatedProps:n,isInteractive:t,tooltip:r,onClick:o,onMouseEnter:a,onMouseMove:u,onMouseLeave:l},e.key)}))})},tn=function(n){var e=n.bar;return(0,z.jsx)(U._5,{id:e.datum.id+" - "+e.id,value:e.formattedValue,enableChip:!0,color:e.color})},rn=["isInteractive","animate","motionConfig"],on=function(n){var e=n.data,t=n.id,u=n.value,l=n.valueFormat,c=n.dimensions,s=n.width,d=n.height,h=n.margin,f=n.layout,v=void 0===f?$.layout:f,g=n.offset,m=void 0===g?$.offset:g,M=n.outerPadding,p=void 0===M?$.outerPadding:M,y=n.innerPadding,b=void 0===y?$.innerPadding:y,x=n.layers,k=void 0===x?$.layers:x,w=n.axisTop,C=n.axisRight,P=n.axisBottom,j=n.axisLeft,I=n.enableGridX,E=void 0===I?$.enableGridX:I,N=n.gridXValues,S=n.enableGridY,W=void 0===S?$.enableGridY:S,Z=n.gridYValues,F=n.colors,L=void 0===F?$.colors:F,A=n.defs,G=void 0===A?[]:A,O=n.fill,V=void 0===O?[]:O,q=n.borderWidth,B=void 0===q?$.borderWidth:q,H=n.borderColor,T=void 0===H?$.borderColor:H,X=n.isInteractive,Y=void 0===X?$.isInteractive:X,_=n.tooltip,R=void 0===_?tn:_,U=n.onClick,J=n.onMouseEnter,K=n.onMouseMove,nn=n.onMouseLeave,rn=n.legends,on=void 0===rn?[]:rn,an=n.role,un=(0,i.Bs)(s,d,h),ln=un.outerWidth,cn=un.outerHeight,sn=un.margin,dn=un.innerWidth,hn=un.innerHeight,fn=Q({data:e,id:t,value:u,dimensions:c,valueFormat:l,layout:v,offset:m,outerPadding:p,innerPadding:b,colors:L,borderColor:T,borderWidth:B,width:dn,height:hn}),vn=fn.computedData,gn=fn.bars,mn=fn.thicknessScale,Mn=fn.dimensionsScale,pn=fn.dimensionIds,yn={grid:null,axes:null,bars:null,legends:null},bn=(0,i.yU)(G,gn,V);k.includes("bars")&&(yn.bars=(0,z.jsx)(en,{bars:gn,isInteractive:Y,tooltip:R,onClick:U,onMouseEnter:J,onMouseMove:K,onMouseLeave:nn},"bars"));var xn="vertical"===v?mn:Mn,kn="vertical"===v?Mn:mn;k.includes("grid")&&(yn.grid=(0,z.jsx)(o.rj,{xScale:E?xn:void 0,yScale:W?kn:void 0,width:dn,height:hn,xValues:N,yValues:Z},"grid")),k.includes("axes")&&(yn.axes=(0,z.jsx)(o.dk,{xScale:xn,yScale:kn,width:dn,height:hn,top:w,right:C,bottom:P,left:j},"axes"));var wn=function(n,e){var t=[];return n.forEach((function(n){var r=e.find((function(e){return e.id===n}));r&&t.push({id:n,label:n,color:r.color,fill:r.fill})})),t}(pn,gn);k.includes("legends")&&(yn.legends=(0,z.jsx)("g",{children:on.map((function(n,e){return(0,z.jsx)(a.$6,D({},n,{containerWidth:dn,containerHeight:hn,data:wn}),e)}))},"legends"));var Cn=function(n){var e=n.data,t=n.bars,i=n.thicknessScale,o=n.dimensionsScale;return(0,r.useMemo)((function(){return{data:e,bars:t,thicknessScale:i,dimensionsScale:o}}),[e,t,i,o])}({data:vn,bars:gn,thicknessScale:mn,dimensionsScale:Mn});return(0,z.jsx)(i.tM,{width:ln,height:cn,margin:sn,defs:bn,role:an,children:k.map((function(n,e){return void 0!==yn[n]?yn[n]:"function"==typeof n?(0,z.jsx)(r.Fragment,{children:(0,r.createElement)(n,Cn)},e):null}))})},an=function(n){var e=n.isInteractive,t=void 0===e?$.isInteractive:e,r=n.animate,o=void 0===r?$.animate:r,a=n.motionConfig,u=void 0===a?$.motionConfig:a,l=function(n,e){if(null==n)return{};var t,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,rn);return(0,z.jsx)(i.W2,{theme:l.theme,isInteractive:t,animate:o,motionConfig:u,children:(0,z.jsx)(on,D({isInteractive:t,animate:o,motionConfig:u},l))})},un=function(n){return(0,z.jsx)(i.d,{children:function(e){var t=e.width,r=e.height;return(0,z.jsx)(an,D({width:t,height:r},n))}})}}}]);
//# sourceMappingURL=1036-bccbfcbc459126024897.js.map