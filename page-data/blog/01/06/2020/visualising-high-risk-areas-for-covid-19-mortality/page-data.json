{"componentChunkName":"component---src-templates-blog-blog-post-template-jsx","path":"/blog/01/06/2020/visualising-high-risk-areas-for-covid-19-mortality","result":{"data":{"mdx":{"id":"adda3ae0-5e98-5b3b-8b26-fda1606ffb6f","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"author\": [\"Dataviz Team\"],\n  \"title\": \"Visualising high risk areas for Covid-19 mortality\",\n  \"thumbnail\": \"./thumb1.png\",\n  \"description\": \"Colin Angus recently demonstrated various visualisations that he had created for Covid-19 mortality on Twitter. Here he elaborates on his approach to this work.\",\n  \"date\": \"2020-06-01\",\n  \"category\": [\"Articles\"],\n  \"tag\": [\"Covid-19 mortality\", \"Pandemic\", \"Epidemiology\", \"COVID-19 virus (SARS-CoV-2)\"],\n  \"featured\": true\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar TwitterBtn = makeShortcode(\"TwitterBtn\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"div\", {\n    className: \"flex flex-wrap p-2 items-center\"\n  }, mdx(\"h3\", null, \"Colin Angus recently demonstrated various visualisations that he had created for Covid-19 mortality on \", mdx(\"a\", {\n    href: \"https://twitter.com/VictimOfMaths/status/1254812649264680960\"\n  }, \"Twitter\"), \". Here he elaborates on his approach to this work.\")), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Credit: This post was originally published by Neil Dymond-Green on the UK Data Service \", mdx(\"a\", {\n    href: \"https://lab.ukdataservice.ac.uk/\"\n  }, \"Impact and Innovation Lab\"), \".\")), mdx(\"hr\", null), mdx(\"br\", null), \"Sometimes the best and most interesting ideas come from seeing a new application of other people\\u2019s work.\", mdx(\"p\", null, \"By mid-March, emerging data from Northern Italy clearly showed that COVID-19 fatality rates were substantially higher in older age groups, particularly for men.\\nDemographers \", mdx(\"a\", {\n    href: \"https://twitter.com/ikashnitsky\"\n  }, \"Ilya Kashnitsky\"), \" and \", mdx(\"a\", {\n    href: \"https://twitter.com/jm_aburto\"\n  }, \"Jos\\xE9 Aburto\"), \" combined this data with data from\\nEUROSTAT on the age-sex distribution of the population across European regions and published \", mdx(\"a\", {\n    href: \"https://osf.io/abx7s/\"\n  }, \"a fascinating pre-print\"), \".\"), mdx(\"p\", null, \"This displayed the potential risk that each area faced from a large-scale COVID-19 outbreak. Areas with large populations of older men, such as parts of former East Germany, faced an expected\\nmortality rate more than four times greater than areas with younger, more female populations, such as south-eastern Turkey.\"), mdx(\"p\", null, \"We are blessed in the UK with some wonderfully rich data, including estimates of the population structure at very low levels of geography, right down to Lower Super Output Area (LSOA) level.\\nI thought it would be interesting to replicate this approach to calculate potential COVID-19 exposure for LSOAs in England.\"), mdx(\"p\", null, \"This was relatively straightforward using ONS population data, data from \", mdx(\"a\", {\n    href: \"https://www.imperial.ac.uk/media/imperial-college/medicine/sph/ide/gida-fellowships/Imperial-College-COVID19-NPI-modelling-16-03-2020.pdf\"\n  }, \"the Imperial College modelling study\"), \" that\\nestimated age-specific Infection Fatality Rates (IFRs) from COVID-19 and sex-specific Case Fatality Rates from \", mdx(\"a\", {\n    href: \"https://www.epicentro.iss.it/coronavirus/bollettino/Bollettino-sorveglianza-integrata-COVID-19_23-aprile-2020.pdf\"\n  }, \"Northern Italy\"), \",\\npublished by the Italian Statistical Institute ISS. There are a lot of LSOAs in the country (almost 35,000), so I decided to visualise my results for Sheffield, using an LSOA shapefile\\nfrom \", mdx(\"a\", {\n    href: \"https://geoportal.statistics.gov.uk/\"\n  }, \"the ONS Open Geography portal\"), \".\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/1215f4af5f5515e9b936876cd4b8a4ef/Fig1.png\",\n    \"alt\": \"Fig1_Sheffield_Deprivation\"\n  })), mdx(\"p\", null, \"This immediately shows some huge variations in potential exposure between the central parts of the city in the middle of the map, with expected mortality rates of less than 100/100,000\\neven if everyone was infected, and the leafy suburbs in the south-west with rates of 2,400/100,000.\"), mdx(\"p\", null, \"These results seemed potentially useful to help plan local Public Health responses to the pandemic, but something jarred with me about the fact that many of the LSOAs showing high mortality\\nrisk are among the most affluent in the entire country, while many of the most deprived LSOAs were identified as low-risk.\"), mdx(\"p\", null, \"In addition to the evidence on age-sex risks of COVID-19, it was becoming very clear that people with pre-existing health conditions were at considerably greater risk of death.\"), mdx(\"p\", null, \"As part of the calculation of the Index of Multiple Deprivation, the Ministry of Housing, Communities & Local Government (MHCLG) calculate a \\u2018health and disability deprivation\\u2019 score\\nwhich reflects the levels of ill health and rates of hospital admissions within each LSOA. I wondered how the COVID-19 mortality exposure measure might be related to this measure of health,\\nand so I brought in IMD data from the MHCLG \", mdx(\"a\", {\n    href: \"https://opendatacommunities.org/resource?uri=http%3A%2F%2Fopendatacommunities.org%2Fdata%2Fsocietal-wellbeing%2Fimd2019%2Findices\"\n  }, \"Open Data portal\"), \".\"), mdx(\"p\", null, \"I expected the relationship between health deprivation and the exposure measure to be complex, since greater deprivation is associated with poorer health, but lower deprivation is associated\\nwith older age, which is also associated with poorer health. This complexity was borne out when I plotted the relationship between the two for every LSOA \\u2013 with a clear correlation between\\nlower health deprivation and higher age-sex risk, but enormous heterogeneity between LSOAs within each deprivation decile.\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/a0f1a88da99c38bdb88ff0985519a90a/Fig2.png\",\n    \"alt\": \"Fig2_Plot_HealthDeprivation\"\n  })), mdx(\"p\", null, \"This plot suggested that Public Health activities might be best concentrated in areas in the bottom right, where health is poorest (on average) and there are more older people, particularly men.\\nBut how could I best visualise these areas?\"), mdx(\"p\", null, \"In the end, I decided this was a perfect candidate for a bivariate map. These are a great way of visualising the joint spatial distribution of two variables, which work best when you are\\nparticularly interested in picking out the outliers in your data \\u2013 either areas with high levels of both variables, or high levels of one and low levels of the other.\"), mdx(\"p\", null, \"In this case I wanted to pick out areas with high levels of health deprivation and age-sex-specific risk. For more background on this sort of map, there\\u2019s a nice\\noverview \", mdx(\"a\", {\n    href: \"https://www.joshuastevens.net/cartography/make-a-bivariate-choropleth-map/\"\n  }, \"here\"), \". Here\\u2019s what the bivariate map for Sheffield looks like:\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/1a73ca4ce2a3b95a68d9595f4234a6fe/Fig3.png\",\n    \"alt\": \"Fig3_Sheffield_BivariateMap\"\n  })), mdx(\"p\", null, \"This map matched my intuition much better \\u2013 young areas with poor health in the north west are clearly picked out, as are older areas with good health in the south west.\"), mdx(\"p\", null, \"At the same time we can identify a relatively small number of areas for specific concern where the mortality risks from a large-scale COVID-19 outbreak are particularly high. Because many people\\nwon\\u2019t be familiar with this kind of two-dimensional colour scale, I generally try and add a few annotations to bivariate maps to help guide people\\u2019s interpretations.\"), mdx(\"p\", null, \"The final step was to work out how to make these maps accessible to people working in Local Authorities around the country.\"), mdx(\"p\", null, \"I posted the R code that I had used to make the map, in as user-friendly a form as possible, on \", mdx(\"a\", {\n    href: \"https://github.com/VictimOfMaths/COVID-19/blob/master/COVIDExposures.R\"\n  }, \"GitHub\"), \" so\\nthat people could easily create their own maps, but that still felt quite limiting. So I built \", mdx(\"a\", {\n    href: \"https://victimofmaths.shinyapps.io/covidmapper/\"\n  }, \"a Shiny app\"), \". This was quite an\\nadventure, because I\\u2019ve not used Shiny before, but it ended up being a lot easier than I initially feared.\"), mdx(\"p\", null, \"The trickiest thing was working out how to get the huge LSOA-level shapefile onto Shiny\\u2019s hosting platform. In the end I used the excellent \", mdx(\"a\", {\n    href: \"https://mapshaper.org/\"\n  }, \"mapshaper\"), \" tool\\nto simplify the polygons in the shapefile until the whole thing was small enough. That\\u2019s why the maps in the app look much \\u2018blockier\\u2019 than the ones from the original R script.\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/adb95786ee5c22fc51746113cb541f06/Fig4.png\",\n    \"alt\": \"Fig4_BivariateMap_from_ShinyApp\"\n  })), mdx(\"p\", null, \"In order to satisfy my aesthetic sense, I also made some large composite maps for a few major cities which are spread across multiple Local Authorities, such as Greater Manchester.\"), mdx(\"p\", null, \"At the suggestion of \", mdx(\"a\", {\n    href: \"https://twitter.com/ikashnitsky\"\n  }, \"Ilya Kashnitsky\"), \" I made these maps slightly transparent and added some background road features using stamen maps to help\\nplace the various areas on the map in context. I\\u2019ve shared these maps with Public Health colleagues in various parts of the country and hopefully they were useful in helping to plan the\\nearly phases of the pandemic response.\"), mdx(\"p\", null, \"You can find the R code used to generate these maps and the other plots in this blog \", mdx(\"a\", {\n    href: \"https://github.com/VictimOfMaths/COVID-19/blob/master/Exposure%20mapping/COVIDExposures.R\"\n  }, \"here\"), \".\"), mdx(\"br\", null), mdx(\"hr\", null), mdx(\"div\", {\n    className: \"flex flex-wrap p-2 items-center\"\n  }, mdx(\"div\", {\n    className: \"flex flex-wrap w-full items-center\"\n  }, mdx(\"div\", {\n    className: \"md:w-1/6 mx-auto\"\n  }, mdx(\"img\", {\n    src: \"/ce495cf4cddfab10605895c037545834/Colin_Angus.png\",\n    className: \"rounded-lg\",\n    alt: \"Colin Angus thumbnail\",\n    style: {\n      minHeight: '100px',\n      \"maxHeight\": \"145px\"\n    }\n  })), mdx(\"div\", {\n    className: \"md:w-5/6 p-2 lg:p-4\"\n  }, mdx(\"div\", {\n    className: \"my-1 font-bold text-2xl flex items-center\"\n  }, \"Colin Angus\", mdx(\"div\", {\n    className: \"inline-block ml-4\"\n  }, mdx(TwitterBtn, {\n    href: \"https://twitter.com/intent/follow?screen_name=VictimOfMaths&tw_p=followbutton\",\n    mdxType: \"TwitterBtn\"\n  }))), mdx(\"p\", {\n    className: \"my-0\"\n  }, \"School of Health and Related Research\"), mdx(\"p\", {\n    className: \"my-0\"\n  }, \"The University of Sheffield\"))), mdx(\"div\", null, mdx(\"p\", {\n    className: \"font-bold\"\n  }, mdx(\"a\", {\n    href: \"https://www.sheffield.ac.uk/scharr/sections/heds/staff/angus_c\"\n  }, \"Colin Angus\"), \" (\", mdx(\"a\", {\n    href: \"https://twitter.com/VictimOfMaths\"\n  }, \"@VictimOfMaths\"), \") is a Senior Research Fellow in the Sheffield Alcohol Research Group within \", mdx(\"a\", {\n    href: \"https://www.sheffield.ac.uk/scharr\"\n  }, \"ScHARR\"), \".\"), mdx(\"p\", null, \" His work focuses on the design, development and adaptation of complex health economic models and their use to appraise key policy questions in the field of alcohol research. The majority of his research is based on the development of the Sheffield Alcohol Policy Model to incorporate new methodological developments, new data and to answer new policy questions, both in the UK and internationally.\"))));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{},"fields":{"slug":"/blog/01/06/2020/visualising-high-risk-areas-for-covid-19-mortality","readingTime":{"text":"7 min read"},"slugOrigin":"/2020-06-01-visualising-high-risk-areas-for-covid-19-mortality/"},"frontmatter":{"type":null,"title":"Visualising high risk areas for Covid-19 mortality","date":"01 June 2020","description":"Colin Angus recently demonstrated various visualisations that he had created for Covid-19 mortality on Twitter. Here he elaborates on his approach to this work.","tag":["Covid-19 mortality","Pandemic","Epidemiology","COVID-19 virus (SARS-CoV-2)"],"category":["Articles"],"featured":true,"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/ed944f0c528d5f27cc4098896dc80c99/cc72b/thumb1.png","srcSet":"/static/ed944f0c528d5f27cc4098896dc80c99/022aa/thumb1.png 750w,\n/static/ed944f0c528d5f27cc4098896dc80c99/f9d17/thumb1.png 1080w,\n/static/ed944f0c528d5f27cc4098896dc80c99/177a4/thumb1.png 1366w,\n/static/ed944f0c528d5f27cc4098896dc80c99/cc72b/thumb1.png 1401w","sizes":"100vw"},"sources":[{"srcSet":"/static/ed944f0c528d5f27cc4098896dc80c99/6d4a5/thumb1.webp 750w,\n/static/ed944f0c528d5f27cc4098896dc80c99/dec45/thumb1.webp 1080w,\n/static/ed944f0c528d5f27cc4098896dc80c99/f5aed/thumb1.webp 1366w,\n/static/ed944f0c528d5f27cc4098896dc80c99/c1aea/thumb1.webp 1401w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.7787294789436118}}},"author":[{"name":"Dataviz Team","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/871859109b0659b0d6a48ae540cb439e/780cc/dataviz.png","srcSet":"/static/871859109b0659b0d6a48ae540cb439e/780cc/dataviz.png 214w","sizes":"100vw"},"sources":[{"srcSet":"/static/871859109b0659b0d6a48ae540cb439e/6c5cc/dataviz.webp 214w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.9158878504672897}}}}],"disableTOC":null,"d3":null}}},"pageContext":{"id":"adda3ae0-5e98-5b3b-8b26-fda1606ffb6f","slug":"/blog/01/06/2020/visualising-high-risk-areas-for-covid-19-mortality","prev":{"node":{"id":"06faba65-ab53-5fb9-ba1f-4d07d783bb9c","fields":{"slug":"/blog/04/06/2020/dash-tutorial"},"frontmatter":{"template":null,"title":"Visualising data on the web with Python and Dash","date":"Thursday 4th June 2020","category":["Tutorial"],"tag":["Python","Dash","Web","Plotly","Pandas"],"d3":null,"type":null,"published":null}}},"next":{"node":{"id":"bd0e1843-14aa-5ca5-bd7c-ce9dc4823ff0","fields":{"slug":"/blog/20/05/2020/Non-Numeric"},"frontmatter":{"template":null,"title":"Non-Numeric Data Visualisation","date":"Wednesday 20th May 2020","category":["Articles"],"tag":["Blog","Dataviz"],"d3":null,"type":null,"published":null}}}}},"staticQueryHashes":["160810946","3815917638","3976606562"]}